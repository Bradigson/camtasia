(window.webpackJsonpmusescore=window.webpackJsonpmusescore||[]).push([[95],{"+xgt":function(t,e,n){var r,i;r=[n("FiB8"),n("toUB"),n("m2sW")],void 0===(i=function(t){"use strict";window.URL=window.URL||window.webkitURL;var e=new Blob(["setInterval(function(){self.postMessage('tick')}, 20)"]),n=URL.createObjectURL(e),r=new Worker(n);return t.Clock=function(){var e=this.optionsObject(arguments,["callback","frequency"],t.Clock.defaults);this.callback=e.callback,this._lookAhead="auto",this._computedLookAhead=.02,this._threshold=.06,this._nextTick=-1,this._lastUpdate=0,this._loopID=-1,this.frequency=new t.TimelineSignal(e.frequency,t.Type.Frequency),this.ticks=0,this._state=new t.TimelineState(t.State.Stopped),this._boundLoop=this._loop.bind(this),r.addEventListener("message",this._boundLoop),this._readOnly("frequency")},t.extend(t.Clock),t.Clock.defaults={callback:t.noOp,frequency:1,lookAhead:"auto"},Object.defineProperty(t.Clock.prototype,"state",{get:function(){return this._state.getStateAtTime(this.now())}}),Object.defineProperty(t.Clock.prototype,"lookAhead",{get:function(){return this._lookAhead},set:function(t){this._lookAhead="auto"===t?"auto":this.toSeconds(t)}}),t.Clock.prototype.start=function(e,n){return e=this.toSeconds(e),this._state.getStateAtTime(e)!==t.State.Started&&this._state.addEvent({state:t.State.Started,time:e,offset:n}),this},t.Clock.prototype.stop=function(e){return e=this.toSeconds(e),this._state.getStateAtTime(e)!==t.State.Stopped&&this._state.setStateAtTime(t.State.Stopped,e),this},t.Clock.prototype.pause=function(e){return e=this.toSeconds(e),this._state.getStateAtTime(e)===t.State.Started&&this._state.setStateAtTime(t.State.Paused,e),this},t.Clock.prototype._loop=function(e){if("auto"===this._lookAhead){var n=((e=Date.now())-this._lastUpdate)/1e3;this._lastUpdate=e,n<this._threshold&&(this._computedLookAhead=(9*this._computedLookAhead+n)/10)}else this._computedLookAhead=this._lookAhead;var r=this.now(),i=2*this._computedLookAhead,o=this._state.getEvent(r+i),a=t.State.Stopped;if(o&&(a=o.state,-1===this._nextTick&&a===t.State.Started&&(this._nextTick=o.time,!this.isUndef(o.offset)&&(this.ticks=o.offset))),a===t.State.Started)for(;r+i>this._nextTick;){r>this._nextTick+this._threshold&&(this._nextTick=r);var s=this._nextTick;this._nextTick+=1/this.frequency.getValueAtTime(this._nextTick),this.callback(s),this.ticks++}else a===t.State.Stopped&&(this._nextTick=-1,this.ticks=0)},t.Clock.prototype.getStateAtTime=function(t){return this._state.getStateAtTime(t)},t.Clock.prototype.dispose=function(){cancelAnimationFrame(this._loopID),t.TimelineState.prototype.dispose.call(this),r.removeEventListener("message",this._boundLoop),this._writable("frequency"),this.frequency.dispose(),this.frequency=null,this._boundLoop=null,this._nextTick=1/0,this.callback=null,this._state.dispose(),this._state=null},t.Clock}.apply(e,r))||(t.exports=i)},"0CSc":function(t,e,n){"use strict";var r=n("IdCN"),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){if(!r(e))throw new TypeError("iterator must be a function");var a;3<=arguments.length&&(a=n),"[object Array]"===i.call(t)?function(t,e,n){for(var r=0,i=t.length;r<i;r++)o.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))}(t,e,a):"string"==typeof t?function(t,e,n){for(var r=0,i=t.length;r<i;r++)null==n?e(t.charAt(r),r,t):e.call(n,t.charAt(r),r,t)}(t,e,a):function(t,e,n){for(var r in t)o.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))}(t,e,a)}},"0bxy":function(t,e,n){var r=n("ax1l");t.exports=function(t){return t.listenToMidi=function(e,n){var i={},o=n||{},a=o.gain||function(t){return t/127};return e.onmidimessage=function(e){var n=e.messageType?e:r(e);if("noteon"===n.messageType&&0===n.velocity&&(n.messageType="noteoff"),!o.channel||n.channel===o.channel)switch(n.messageType){case"noteon":i[n.key]=t.play(n.key,0,{gain:a(n.velocity)});break;case"noteoff":i[n.key]&&(i[n.key].stop(),delete i[n.key])}},t},t}},"0kSW":function(t,e,n){var r,i;r=[n("FiB8")],void 0===(i=function(t){"use strict";return t.Emitter=function(){this._events={}},t.extend(t.Emitter),t.Emitter.prototype.on=function(t,e){for(var n,r=t.split(/\W+/),i=0;i<r.length;i++)n=r[i],this._events.hasOwnProperty(n)||(this._events[n]=[]),this._events[n].push(e);return this},t.Emitter.prototype.off=function(e,n){for(var r=e.split(/\W+/),i=0;i<r.length;i++)if(e=r[i],this._events.hasOwnProperty(e))if(t.prototype.isUndef(n))this._events[e]=[];else for(var o=this._events[e],a=0;a<o.length;a++)o[a]===n&&o.splice(a,1);return this},t.Emitter.prototype.trigger=function(t){if(this._events){var e=Array.prototype.slice.call(arguments,1);if(this._events.hasOwnProperty(t))for(var n=this._events[t],r=0,i=n.length;r<i;r++)n[r].apply(this,e)}return this},t.Emitter.mixin=function(e){var n=["on","off","trigger"];e._events={};for(var r=0;r<n.length;r++){var i=n[r],o=t.Emitter.prototype[i];e[i]=o}},t.Emitter.prototype.dispose=function(){return t.prototype.dispose.call(this),this._events=null,this},t.Emitter}.apply(e,r))||(t.exports=i)},"2LeX":function(t,e,n){"use strict";var r=n("kaZN"),i=function(t){return function(t){return null!==t&&[]!==t&&0<=t&&129>t}(t)?+t:r.midi(t)};t.exports=function(t){if(t.buffers){var e=t.opts.map,n="function"==typeof e?e:i,r=function(t){return t?n(t)||t:null};t.buffers=function(t,e){return Object.keys(t).reduce(function(n,r){return n[e(r)]=t[r],n},{})}(t.buffers,r);var o=t.start;t.start=function(t,e,n){var i=r(t),a=i%1;return a&&(i=Math.floor(i),n=Object.assign(n||{},{cents:Math.floor(100*a)})),o(i,e,n)}}return t}},"2f2s":function(t,e,n){var r={forEach:n("qm8e"),uniq:n("w26f"),findIndex:n("B6f/")};t.exports=function(){function t(t,e,n){return Math.round(t/e*n)+"i"}return function(e,n){var i,o,a,s={},u=e.header.ticksPerBeat;s.bpm=120,s.channels={},s.tempos=[],s.parts={};for(var c=-1,l=0,p=0;p<e.tracks.length;p++){for(var h,f=e.tracks[p],d=!1,m=0,v=0;v<f.length;v++)if(l+=(h=f[v]).deltaTime,"meta"===h.type)"timeSignature"===h.subtype?(d=!0,s.timeSignature=[h.numerator,h.denominator]):"setTempo"===h.subtype&&(0==s.tempos.length&&0==l&&(s.bpm=Math.round(6e7/h.microsecondsPerBeat)),s.tempos.push({bpm:Math.round(6e7/h.microsecondsPerBeat),time:t(l,u,n.PPQ)}));else if("programChange"===h.subtype)if(9!=h.channel)d=!0,s.channels[h.channel]||(s.channels[h.channel]=[],s.channels[h.channel][m]={id:h.programNumber,notes:[]});else if(d=!0,s.channels[h.channel]){var y=r.findIndex(s.channels[h.channel],function(t){return t.id==h.programNumber+128});-1==y?(s.channels[h.channel].push({id:h.programNumber+128,notes:[]}),m=s.channels[h.channel].length-1):m=y}else s.channels[h.channel]=[],s.channels[h.channel].push({id:h.programNumber+128,notes:[]});else if("noteOn"===h.subtype){var g=0,_=(i=h.noteNumber,void 0,void 0,o=void 0?["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]:["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],a=Math.floor(i/12)-1,o[i%12]+a);h.channel&&(g=h.channel),void 0===s.channels[g]&&(s.channels[g]=[]),void 0===s.channels[g][m]&&(s.channels[g][m]={id:0,notes:[]}),s.channels[g][m]&&_&&s.channels[g][m].notes.push(_)}d&&c++,s.parts[c]||(s.parts[c]={tracks:[]}),s.parts[c].instrumentIndex=m,s.parts[c].tracks.push(p)}return r.forEach(s.channels,function(t){r.forEach(t,function(){t.notes=r.uniq(t.notes)})}),s}}()},"7sdD":function(t,e,n){"use strict";var r=n("vgmO"),i=n("g2LC"),o=n("ZESv"),a=n("U6jy");function s(t,e,n){var r=t;return i(e)?(n=e,"string"==typeof t&&(r={uri:t})):r=a(e,{uri:t}),r.callback=n,r}function u(t,e,n){return c(e=s(t,e,n))}function c(t){function e(t){return clearTimeout(l),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,i(t,y)}function n(){if(!c){var e;clearTimeout(l),e=t.useXDR&&void 0===a.status?200:1223===a.status?204:a.status;var n=y,r=null;return 0===e?r=new Error("Internal XMLHttpRequest Error"):(n={body:function(){var t;if(t=a.response?a.response:a.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(t){}return null}(a),v)try{t=JSON.parse(t)}catch(t){}return t}(),statusCode:e,method:h,headers:{},url:p,rawRequest:a},a.getAllResponseHeaders&&(n.headers=o(a.getAllResponseHeaders()))),i(r,n,n.body)}}if(void 0===t.callback)throw new Error("callback argument missing");var r=!1,i=function(e,n,i){r||(r=!0,t.callback(e,n,i))},a=t.xhr||null;a||(a=t.cors||t.useXDR?new u.XDomainRequest:new u.XMLHttpRequest);var s,c,l,p=a.url=t.uri||t.url,h=a.method=t.method||"GET",f=t.body||t.data,d=a.headers=t.headers||{},m=!!t.sync,v=!1,y={body:void 0,headers:{},statusCode:0,method:h,url:p,rawRequest:a};if("json"in t&&!1!==t.json&&(v=!0,d.accept||d.Accept||(d.Accept="application/json"),"GET"!==h&&"HEAD"!==h&&(d["content-type"]||d["Content-Type"]||(d["Content-Type"]="application/json"),f=JSON.stringify(!0===t.json?f:t.json))),a.onreadystatechange=function(){4===a.readyState&&setTimeout(n,0)},a.onload=n,a.onerror=e,a.onprogress=function(){},a.onabort=function(){c=!0},a.ontimeout=e,a.open(h,p,!m,t.username,t.password),m||(a.withCredentials=!!t.withCredentials),!m&&0<t.timeout&&(l=setTimeout(function(){if(!c){c=!0,a.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",e(t)}},t.timeout)),a.setRequestHeader)for(s in d)d.hasOwnProperty(s)&&a.setRequestHeader(s,d[s]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(a.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(a),a.send(f||null),a}t.exports=u,t.exports.default=u,u.XMLHttpRequest=r.XMLHttpRequest||function(){},u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:r.XDomainRequest,function(t,e){for(var n=0;n<t.length;n++)e(t[n])}(["get","put","post","patch","head","delete"],function(t){u["delete"===t?"del":t]=function(e,n,r){return(n=s(e,n,r)).method=t.toUpperCase(),c(n)}})},"B6f/":function(t,e,n){(function(t,n){var r=200,i="Expected a function",o="__lodash_hash_undefined__",a=1,s=2,u=1/0,c=9007199254740991,l=1.7976931348623157e308,p=NaN,h="[object Arguments]",f="[object Array]",d="[object Boolean]",m="[object Date]",v="[object Error]",y="[object Function]",g="[object GeneratorFunction]",_="[object Map]",T="[object Number]",b="[object Object]",S="[object RegExp]",E="[object Set]",A="[object String]",w="[object Symbol]",k="[object ArrayBuffer]",x="[object DataView]",P=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/,I=/^\./,j=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R=/^\s+|\s+$/g,N=/\\(\\)?/g,M=/^[-+]0x[0-9a-f]+$/i,B=/^0b[01]+$/i,F=/^\[object .+?Constructor\]$/,C=/^0o[0-7]+$/i,U=/^(?:0|[1-9]\d*)$/,D={};D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D[h]=D[f]=D[k]=D[d]=D[x]=D[m]=D[v]=D[y]=D[_]=D[T]=D[b]=D[S]=D[E]=D[A]=D["[object WeakMap]"]=!1;var V=parseInt,L="object"==typeof t&&t&&t.Object===Object&&t,q="object"==typeof self&&self&&self.Object===Object&&self,G=L||q||Function("return this")(),H=e&&!e.nodeType&&e,z=H&&"object"==typeof n&&n&&!n.nodeType&&n,W=z&&z.exports===H&&L.process,X=function(){try{return W&&W.binding("util")}catch(t){}}(),Q=X&&X.isTypedArray;function K(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function $(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function Y(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function J(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var Z,tt,et,nt=Array.prototype,rt=Function.prototype,it=Object.prototype,ot=G["__core-js_shared__"],at=(et=/[^.]+$/.exec(ot&&ot.keys&&ot.keys.IE_PROTO||""))?"Symbol(src)_1."+et:"",st=rt.toString,ut=it.hasOwnProperty,ct=it.toString,lt=RegExp("^"+st.call(ut).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pt=G.Symbol,ht=G.Uint8Array,ft=it.propertyIsEnumerable,dt=nt.splice,mt=(Z=Object.keys,tt=Object,function(t){return Z(tt(t))}),vt=Math.max,yt=Xt(G,"DataView"),gt=Xt(G,"Map"),_t=Xt(G,"Promise"),Tt=Xt(G,"Set"),bt=Xt(G,"WeakMap"),St=Xt(Object,"create"),Et=ee(yt),At=ee(gt),wt=ee(_t),kt=ee(Tt),xt=ee(bt),Pt=pt?pt.prototype:void 0,Ot=Pt?Pt.valueOf:void 0,It=Pt?Pt.toString:void 0;function jt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Nt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Mt(t){var e=-1,n=t?t.length:0;for(this.__data__=new Nt;++e<n;)this.add(t[e])}function Bt(t){this.__data__=new Rt(t)}function Ft(t,e){var n=oe(t)||ie(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length;for(var i in t)(e||ut.call(t,i))&&(!r||"length"!=i&&!Kt(i,r))&&n.push(i);return n}function Ct(t,e){for(var n=t.length;n--;)if(re(t[n][0],e))return n;return-1}function Ut(t,e){for(var n=0,r=(e=$t(e,t)?[e]:Ht(e)).length;null!=t&&n<r;)t=t[te(e[n++])];return n&&n==r?t:void 0}function Dt(t,e){return null!=t&&e in Object(t)}function Vt(t,e,n,r,i){return!(t!==e)||(null!=t&&null!=e&&(ce(t)||le(e))?function(t,e,n,r,i,o){var u=oe(t),c=oe(e),l=f,p=f;u||(l=(l=Qt(t))==h?b:l),c||(p=(p=Qt(e))==h?b:p);var y=l==b&&!$(t),g=p==b&&!$(e),P=l==p;if(P&&!y)return o||(o=new Bt),u||he(t)?zt(t,e,n,r,i,o):function(t,e,n,r,i,o,u){switch(n){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case k:return!(t.byteLength!=e.byteLength||!r(new ht(t),new ht(e)));case d:case m:case T:return re(+t,+e);case v:return t.name==e.name&&t.message==e.message;case S:case A:return t==e+"";case _:var c=Y;case E:var l=o&s;if(c||(c=J),t.size!=e.size&&!l)return!1;var p=u.get(t);if(p)return p==e;o|=a,u.set(t,e);var h=zt(c(t),c(e),r,i,o,u);return u.delete(t),h;case w:if(Ot)return Ot.call(t)==Ot.call(e)}return!1}(t,e,l,n,r,i,o);if(!(i&s)){var O=y&&ut.call(t,"__wrapped__"),I=g&&ut.call(e,"__wrapped__");if(O||I){var j=O?t.value():t,R=I?e.value():e;return o||(o=new Bt),n(j,R,r,i,o)}}return!!P&&(o||(o=new Bt),function(t,e,n,r,i,o){var a=i&s,u=fe(t),c=u.length,l=fe(e).length;if(c!=l&&!a)return!1;for(var p,h=c;h--;)if(p=u[h],a?!(p in e):!ut.call(e,p))return!1;var f=o.get(t);if(f&&o.get(e))return f==e;var d=!0;o.set(t,e),o.set(e,t);for(var m=a;++h<c;){p=u[h];var v=t[p],y=e[p];if(r)var g=a?r(y,v,p,e,t,o):r(v,y,p,t,e,o);if(void 0===g?v!==y&&!n(v,y,r,i,o):!g){d=!1;break}m||(m="constructor"==p)}if(d&&!m){var _=t.constructor,T=e.constructor;_!=T&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof T&&T instanceof T)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o))}(t,e,Vt,n,r,i):t!=t&&e!=e)}function Lt(t){return!(!ce(t)||at&&at in t)&&(se(t)||$(t)?lt:F).test(ee(t))}function qt(t){return"function"==typeof t?t:null==t?de:"object"==typeof t?oe(t)?(r=t[0],i=t[1],$t(r)&&Yt(i)?Jt(te(r),i):function(t){var e=function(t,e,n){var r=null==t?void 0:Ut(t,e);return void 0===r?n:r}(t,r);return void 0===e&&e===i?function(t,e){return null!=t&&function(t,e,n){for(var r,i=-1,o=(e=$t(e,t)?[e]:Ht(e)).length;++i<o;){var a=te(e[i]);if(!(r=null!=t&&n(t,a)))break;t=t[a]}return r||!!(o=t?t.length:0)&&ue(o)&&Kt(a,o)&&(oe(t)||ie(t))}(t,e,Dt)}(t,r):Vt(i,e,void 0,a|s)}):1==(n=function(t){for(var e=fe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Yt(i)]}return e}(e=t)).length&&n[0][2]?Jt(n[0][0],n[0][1]):function(t){return t===e||function(t,e,n,r){var i=n.length,o=i,u=!r;if(null==t)return!o;for(t=Object(t);i--;){var c=n[i];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){var l=(c=n[i])[0],p=t[l],h=c[1];if(u&&c[2]){if(void 0===p&&!(l in t))return!1}else{var f=new Bt;if(r)var d=r(p,h,l,t,e,f);if(void 0===d?!Vt(h,p,r,a|s,f):!d)return!1}}return!0}(t,e,n)}:function(t){return $t(t)?(e=te(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return Ut(e,t)}}(t);var e}(t);var e,n,r,i}function Gt(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||it,e!==r)return mt(t);var e,n,r,i=[];for(var o in Object(t))ut.call(t,o)&&"constructor"!=o&&i.push(o);return i}function Ht(t){return oe(t)?t:Zt(t)}function zt(t,e,n,r,i,o){var u=i&s,c=t.length,l=e.length;if(c!=l&&!(u&&l>c))return!1;var p=o.get(t);if(p&&o.get(e))return p==e;var h=-1,f=!0,d=i&a?new Mt:void 0;for(o.set(t,e),o.set(e,t);++h<c;){var m=t[h],v=e[h];if(r)var y=u?r(v,m,h,e,t,o):r(m,v,h,t,e,o);if(void 0!==y){if(y)continue;f=!1;break}if(d){if(!K(e,function(t,e){if(!d.has(e)&&(m===t||n(m,t,r,i,o)))return d.add(e)})){f=!1;break}}else if(m!==v&&!n(m,v,r,i,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function Wt(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Xt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Lt(n)?n:void 0}jt.prototype.clear=function(){this.__data__=St?St(null):{}},jt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},jt.prototype.get=function(t){var e=this.__data__;if(St){var n=e[t];return n===o?void 0:n}return ut.call(e,t)?e[t]:void 0},jt.prototype.has=function(t){var e=this.__data__;return St?void 0!==e[t]:ut.call(e,t)},jt.prototype.set=function(t,e){return this.__data__[t]=St&&void 0===e?o:e,this},Rt.prototype.clear=function(){this.__data__=[]},Rt.prototype.delete=function(t){var e=this.__data__,n=Ct(e,t);return!(0>n||(n==e.length-1?e.pop():dt.call(e,n,1),0))},Rt.prototype.get=function(t){var e=this.__data__,n=Ct(e,t);return 0>n?void 0:e[n][1]},Rt.prototype.has=function(t){return-1<Ct(this.__data__,t)},Rt.prototype.set=function(t,e){var n=this.__data__,r=Ct(n,t);return 0>r?n.push([t,e]):n[r][1]=e,this},Nt.prototype.clear=function(){this.__data__={hash:new jt,map:new(gt||Rt),string:new jt}},Nt.prototype.delete=function(t){return Wt(this,t).delete(t)},Nt.prototype.get=function(t){return Wt(this,t).get(t)},Nt.prototype.has=function(t){return Wt(this,t).has(t)},Nt.prototype.set=function(t,e){return Wt(this,t).set(t,e),this},Mt.prototype.add=Mt.prototype.push=function(t){return this.__data__.set(t,o),this},Mt.prototype.has=function(t){return this.__data__.has(t)},Bt.prototype.clear=function(){this.__data__=new Rt},Bt.prototype.delete=function(t){return this.__data__.delete(t)},Bt.prototype.get=function(t){return this.__data__.get(t)},Bt.prototype.has=function(t){return this.__data__.has(t)},Bt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Rt){var i=n.__data__;if(!gt||i.length<r-1)return i.push([t,e]),this;n=this.__data__=new Nt(i)}return n.set(t,e),this};var Qt=function(t){return ct.call(t)};function Kt(t,e){return!!(e=null==e?c:e)&&("number"==typeof t||U.test(t))&&-1<t&&0==t%1&&t<e}function $t(t,e){if(oe(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!pe(t))||O.test(t)||!P.test(t)||null!=e&&t in Object(e)}function Yt(t){return t==t&&!ce(t)}function Jt(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}(yt&&Qt(new yt(new ArrayBuffer(1)))!=x||gt&&Qt(new gt)!=_||_t&&"[object Promise]"!=Qt(_t.resolve())||Tt&&Qt(new Tt)!=E||bt&&"[object WeakMap]"!=Qt(new bt))&&(Qt=function(t){var e=ct.call(t),n=e==b?t.constructor:void 0,r=n?ee(n):void 0;if(r)switch(r){case Et:return x;case At:return _;case wt:return"[object Promise]";case kt:return E;case xt:return"[object WeakMap]"}return e});var Zt=ne(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(pe(t))return It?It.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}(e);var n=[];return I.test(t)&&n.push(""),t.replace(j,function(t,e,r,i){n.push(r?i.replace(N,"$1"):e||t)}),n});function te(t){if("string"==typeof t||pe(t))return t;var e=t+"";return"0"==e&&1/t==-u?"-0":e}function ee(t){if(null!=t){try{return st.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ne(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(ne.Cache||Nt),n}function re(t,e){return t===e||t!=t&&e!=e}function ie(t){return function(t){return le(t)&&ae(t)}(t)&&ut.call(t,"callee")&&(!ft.call(t,"callee")||ct.call(t)==h)}ne.Cache=Nt;var oe=Array.isArray;function ae(t){return null!=t&&ue(t.length)&&!se(t)}function se(t){var e=ce(t)?ct.call(t):"";return e==y||e==g}function ue(t){return"number"==typeof t&&-1<t&&0==t%1&&t<=c}function ce(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function le(t){return!!t&&"object"==typeof t}function pe(t){return"symbol"==typeof t||le(t)&&ct.call(t)==w}var he=Q?function(t){return function(e){return t(e)}}(Q):function(t){return le(t)&&ue(t.length)&&!!D[ct.call(t)]};function fe(t){return ae(t)?Ft(t):Gt(t)}function de(t){return t}n.exports=function(t,e,n){var r=t?t.length:0;if(!r)return-1;var i,o,a=null==n?0:(i=function(t){if(!t)return 0===t?t:0;if((t=function(t){if("number"==typeof t)return t;if(pe(t))return p;if(ce(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ce(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(R,"");var n=B.test(t);return n||C.test(t)?V(t.slice(2),n?2:8):M.test(t)?p:+t}(t))===u||t===-u){var e=0>t?-1:1;return e*l}return t==t?t:0}(n),o=i%1,i==i?o?i-o:i:0);return 0>a&&(a=vt(r+a,0)),function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,qt(e),a)}}).call(this,n("yLpj"),n("YuTi")(t))},FiB8:function(t,e,n){var r;
/**
 *  Tone.js
 *  @author Yotam Mann
 *  @license http://opensource.org/licenses/MIT MIT License
 *  @copyright 2014-2015 Yotam Mann
 */void 0===(r=function(){"use strict";function t(t){return void 0===t}function e(t){return"function"==typeof t}var n;if(t(window.AudioContext)&&(window.AudioContext=window.webkitAudioContext),t(window.OfflineAudioContext)&&(window.OfflineAudioContext=window.webkitOfflineAudioContext),t(AudioContext))throw new Error("Web Audio is not supported in this browser");n=new AudioContext,e(AudioContext.prototype.createGain)||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),e(AudioContext.prototype.createDelay)||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),e(AudioContext.prototype.createPeriodicWave)||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),e(AudioBufferSourceNode.prototype.start)||(AudioBufferSourceNode.prototype.start=AudioBufferSourceNode.prototype.noteGrainOn),e(AudioBufferSourceNode.prototype.stop)||(AudioBufferSourceNode.prototype.stop=AudioBufferSourceNode.prototype.noteOff),e(OscillatorNode.prototype.start)||(OscillatorNode.prototype.start=OscillatorNode.prototype.noteOn),e(OscillatorNode.prototype.stop)||(OscillatorNode.prototype.stop=OscillatorNode.prototype.noteOff),e(OscillatorNode.prototype.setPeriodicWave)||(OscillatorNode.prototype.setPeriodicWave=OscillatorNode.prototype.setWaveTable),AudioNode.prototype._nativeConnect=AudioNode.prototype.connect,AudioNode.prototype.connect=function(e,n,r){if(e.input)Array.isArray(e.input)?(t(r)&&(r=0),this.connect(e.input[r])):this.connect(e.input,n,r);else try{e instanceof AudioNode?this._nativeConnect(e,n,r):this._nativeConnect(e,n)}catch(t){throw new Error("error connecting to node: "+e)}};var r=function(e,n){t(e)||1===e?this.input=this.context.createGain():1<e&&(this.input=Array(e)),t(n)||1===n?this.output=this.context.createGain():1<n&&(this.output=Array(e))};r.prototype.set=function(e,n,i){if(this.isObject(e))i=n;else if(this.isString(e)){var o={};o[e]=n,e=o}for(var a in e){n=e[a];var s=this;if(-1!==a.indexOf(".")){for(var u=a.split("."),c=0;c<u.length-1;c++)s=s[u[c]];a=u[u.length-1]}var l=s[a];t(l)||(r.Signal&&l instanceof r.Signal||r.Param&&l instanceof r.Param?l.value!==n&&(t(i)?l.value=n:l.rampTo(n,i)):l instanceof AudioParam?l.value!==n&&(l.value=n):l instanceof r?l.set(n):l!==n&&(s[a]=n))}return this},r.prototype.get=function(n){t(n)?n=this._collectDefaults(this.constructor):this.isString(n)&&(n=[n]);for(var i={},o=0;o<n.length;o++){var a=n[o],s=this,u=i;if(-1!==a.indexOf(".")){for(var c,l=a.split("."),p=0;p<l.length-1;p++)u[c=l[p]]=u[c]||{},u=u[c],s=s[c];a=l[l.length-1]}var h=s[a];this.isObject(n[a])?u[a]=h.get():r.Signal&&h instanceof r.Signal?u[a]=h.value:r.Param&&h instanceof r.Param?u[a]=h.value:h instanceof AudioParam?u[a]=h.value:h instanceof r?u[a]=h.get():!e(h)&&!t(h)&&(u[a]=h)}return i},r.prototype._collectDefaults=function(e){var n=[];if(t(e.defaults)||(n=Object.keys(e.defaults)),!t(e._super))for(var r=this._collectDefaults(e._super),i=0;i<r.length;i++)-1===n.indexOf(r[i])&&n.push(r[i]);return n},r.prototype.toString=function(){for(var t in r){var n=t[0].match(/^[A-Z]$/),i=r[t]===this.constructor;if(e(r[t])&&n&&i)return t}return"Tone"},r.context=n,r.prototype.context=r.context,r.prototype.bufferSize=2048,r.prototype.blockTime=128/r.context.sampleRate,r.prototype.dispose=function(){return this.isUndef(this.input)||(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),this.isUndef(this.output)||(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null),this};var i=null;r.prototype.noGC=function(){return this.output.connect(i),this},AudioNode.prototype.noGC=function(){return this.connect(i),this},r.prototype.connect=function(t,e,n){return Array.isArray(this.output)?(e=this.defaultArg(e,0),this.output[e].connect(t,0,n)):this.output.connect(t,e,n),this},r.prototype.disconnect=function(t){return Array.isArray(this.output)?(t=this.defaultArg(t,0),this.output[t].disconnect()):this.output.disconnect(),this},r.prototype.connectSeries=function(){if(1<arguments.length)for(var t,e=arguments[0],n=1;n<arguments.length;n++)t=arguments[n],e.connect(t),e=t;return this},r.prototype.connectParallel=function(){var t=arguments[0];if(1<arguments.length)for(var e,n=1;n<arguments.length;n++)e=arguments[n],t.connect(e);return this},r.prototype.chain=function(){if(0<arguments.length)for(var t,e=this,n=0;n<arguments.length;n++)t=arguments[n],e.connect(t),e=t;return this},r.prototype.fan=function(){if(0<arguments.length)for(var t=0;t<arguments.length;t++)this.connect(arguments[t]);return this},AudioNode.prototype.chain=r.prototype.chain,AudioNode.prototype.fan=r.prototype.fan,r.prototype.defaultArg=function(e,n){if(this.isObject(e)&&this.isObject(n)){var r={};for(var i in e)r[i]=this.defaultArg(n[i],e[i]);for(var o in n)r[o]=this.defaultArg(e[o],n[o]);return r}return t(e)?n:e},r.prototype.optionsObject=function(t,e,n){var r={};if(1===t.length&&this.isObject(t[0]))r=t[0];else for(var i=0;i<e.length;i++)r[e[i]]=t[i];return this.isUndef(n)?r:this.defaultArg(r,n)},r.prototype.isUndef=t,r.prototype.isFunction=e,r.prototype.isNumber=function(t){return"number"==typeof t},r.prototype.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object},r.prototype.isBoolean=function(t){return"boolean"==typeof t},r.prototype.isArray=function(t){return Array.isArray(t)},r.prototype.isString=function(t){return"string"==typeof t},r.noOp=function(){},r.prototype._readOnly=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._readOnly(t[e]);else Object.defineProperty(this,t,{writable:!1,enumerable:!0})},r.prototype._writable=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._writable(t[e]);else Object.defineProperty(this,t,{writable:!0})},r.State={Started:"started",Stopped:"stopped",Paused:"paused"},r.prototype.equalPowerScale=function(t){var e=.5*Math.PI;return Math.sin(t*e)},r.prototype.dbToGain=function(t){return Math.pow(2,t/6)},r.prototype.gainToDb=function(t){return Math.log(t)/Math.LN10*20},r.prototype.now=function(){return this.context.currentTime},r.extend=function(e,n){function i(){}t(n)&&(n=r),i.prototype=n.prototype,e.prototype=new i,e.prototype.constructor=e,e._super=n};var o=[];return r._initAudioContext=function(t){t(r.context),o.push(t)},r.setContext=function(t){void 0!==r.context.close&&r.context.close(),r.prototype.context=t,r.context=t;for(var e=0;e<o.length;e++)o[e](t)},r.startMobile=function(){var t=r.context.createOscillator(),e=r.context.createGain();e.gain.value=0,t.connect(e),e.connect(r.context.destination);var n=r.context.currentTime;t.start(n),t.stop(n+1)},r._initAudioContext(function(t){r.prototype.blockTime=128/t.sampleRate,(i=t.createGain()).gain.value=0,i.connect(t.destination)}),r.version="r6",r}.call(e,n,e,t))||(t.exports=r)},GcRm:function(t,e,n){"use strict";var r=Array.isArray,i={};t.exports=function(t){return t.schedule=function(e,n){var o,a,s,u,c=t.context.currentTime,l=e<c?c:e;return t.emit("schedule",l,n),n.map(function(e){return e?(r(e)?(o=e[0],a=e[1]):(o=e.time,a=e),function(t){return t&&"object"==typeof t}(a)?(s=a.name||a.key||a.note||a.midi||null,u=a):(s=a,u=i),t.start(s,l+(o||0),u)):null})},t}},HdlA:function(t,e,n){var r,i;r=[n("FiB8"),n("XMzK"),n("V5jq")],void 0===(i=function(t){"use strict";return t.Gain=function(){var e=this.optionsObject(arguments,["gain","units"],t.Gain.defaults);this.input=this.output=this._gainNode=this.context.createGain(),this.gain=new t.Param({param:this._gainNode.gain,units:e.units,value:e.gain,convert:e.convert}),this._readOnly("gain")},t.extend(t.Gain),t.Gain.defaults={gain:1,convert:!0},t.Gain.prototype.dispose=function(){t.Param.prototype.dispose.call(this),this._gainNode.disconnect(),this._gainNode=null,this._writable("gain"),this.gain.dispose(),this.gain=null},t.Gain}.apply(e,r))||(t.exports=i)},IdCN:function(t,e,n){"use strict";var r=Function.prototype.toString,i=/^\s*class /,o=function(t){try{var e=r.call(t).replace(/\/\/.*\n/g,"").replace(/\/\*[.\s\S]*\*\//g,"").replace(/\n/gm," ").replace(/ {2}/g," ");return i.test(e)}catch(t){return!1}},a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(s)return function(t){try{return!o(t)&&(r.call(t),!0)}catch(t){return!1}}(t);if(o(t))return!1;var e=a.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e}},Iz3U:function(t,e){t.exports=function(t){return t.on=function(e,n){if(1===arguments.length&&"function"==typeof e)return t.on("event",e);var r,i,o="on"+e,a=t[o];return t[o]=a?(r=a,i=n,function(t,e,n,o){r(t,e,n,o),i(t,e,n,o)}):n,t},t}},JoP4:function(t,e,n){var r,i;r=[n("FiB8")],void 0===(i=function(t){"use strict";return t.SignalBase=function(){},t.extend(t.SignalBase),t.SignalBase.prototype.connect=function(e,n,r){return t.Signal&&t.Signal===e.constructor||t.Param&&t.Param===e.constructor||t.TimelineSignal&&t.TimelineSignal===e.constructor?(e._param.cancelScheduledValues(0),e._param.value=0,e.overridden=!0):e instanceof AudioParam&&(e.cancelScheduledValues(0),e.value=0),t.prototype.connect.call(this,e,n,r),this},t.SignalBase}.apply(e,r))||(t.exports=i)},LNzU:function(t,e,n){var r=n("x06w"),i=n("2f2s"),o=n("Mf1P");t.exports={parseTracks:function(t,e){var n=r(t);return o(n,e)},parseTransport:function(t){var e=r(t);return i(e)},parse:function(t,e){var n=r(t),a=o(n,e);return a.transport=i(n,e),a}}},LTwH:function(t,e,n){var r,i;r=[n("FiB8"),n("+xgt"),n("V5jq"),n("LvIN"),n("0kSW"),n("HdlA"),n("iMjI")],void 0===(i=function(t){"use strict";t.Transport=function(){t.Emitter.call(this),this.loop=!1,this._loopStart=0,this._loopEnd=0,this._ppq=e.defaults.PPQ,this._clock=new t.Clock({callback:this._processTick.bind(this),frequency:0}),this.bpm=this._clock.frequency,this.bpm._toUnits=this._toUnits.bind(this),this.bpm._fromUnits=this._fromUnits.bind(this),this.bpm.units=t.Type.BPM,this.bpm.value=e.defaults.bpm,this._readOnly("bpm"),this._timeSignature=e.defaults.timeSignature,this._scheduledEvents={},this._eventID=0,this._timeline=new t.Timeline,this._repeatedEvents=new t.IntervalTimeline,this._onceEvents=new t.Timeline,this._syncedSignals=[];var n=this.notationToSeconds(e.defaults.swingSubdivision,e.defaults.bpm,e.defaults.timeSignature);this._swingTicks=n/(60/e.defaults.bpm)*this._ppq,this._swingAmount=0},t.extend(t.Transport,t.Emitter),t.Transport.defaults={bpm:120,swing:0,swingSubdivision:"16n",timeSignature:4,loopStart:0,loopEnd:"4m",PPQ:48},t.Transport.prototype._processTick=function(t){0<this._swingAmount&&0!=this._clock.ticks%this._ppq&&0==this._clock.ticks%this._swingTicks&&(t+=this.ticksToSeconds(this._swingTicks)*this._swingAmount),this.loop&&this._clock.ticks===this._loopEnd&&(this.ticks=this._loopStart,this.trigger("loop",t));var e=this._clock.ticks;this._timeline.forEachAtTime(e,function(e){e.callback(t)}),this._repeatedEvents.forEachOverlap(e,function(n){0==(e-n.time)%n.interval&&n.callback(t)}),this._onceEvents.forEachBefore(e,function(e){e.callback(t)}),this._onceEvents.cancelBefore(e)},t.Transport.prototype.schedule=function(t,e){var n={time:this.toTicks(e),callback:t},r=this._eventID++;return this._scheduledEvents[r.toString()]={event:n,timeline:this._timeline},this._timeline.addEvent(n),r},t.Transport.prototype.scheduleRepeat=function(t,e,n,r){if(0>=e)throw new Error("repeat events must have an interval larger than 0");var i={time:this.toTicks(n),duration:this.toTicks(this.defaultArg(r,1/0)),interval:this.toTicks(e),callback:t},o=this._eventID++;return this._scheduledEvents[o.toString()]={event:i,timeline:this._repeatedEvents},this._repeatedEvents.addEvent(i),o},t.Transport.prototype.scheduleOnce=function(t,e){var n={time:this.toTicks(e),callback:t},r=this._eventID++;return this._scheduledEvents[r.toString()]={event:n,timeline:this._onceEvents},this._onceEvents.addEvent(n),r},t.Transport.prototype.clear=function(t){if(this._scheduledEvents.hasOwnProperty(t)){var e=this._scheduledEvents[t.toString()];e.timeline.removeEvent(e.event),delete this._scheduledEvents[t.toString()]}return this},t.Transport.prototype.cancel=function(t){return t=this.defaultArg(t,0),t=this.toTicks(t),this._timeline.cancel(t),this._onceEvents.cancel(t),this._repeatedEvents.cancel(t),this},t.Transport.prototype.quantize=function(e,n){n=this.defaultArg(n,"4n");var r=this.toTicks(e),i=(n=this.toTicks(n))-r%n;i===n&&(i=0);var o=this.now();return this.state===t.State.Started&&(o=this._clock._nextTick),this.toSeconds(e,o)+this.ticksToSeconds(i)},Object.defineProperty(t.Transport.prototype,"state",{get:function(){return this._clock.getStateAtTime(this.now())}}),t.Transport.prototype.start=function(t,e){return t=this.toSeconds(t),e=this.isUndef(e)?this.defaultArg(e,this._clock.ticks):this.toTicks(e),this._clock.start(t,e),this.trigger("start",t,this.ticksToSeconds(e)),this},t.Transport.prototype.stop=function(t){return t=this.toSeconds(t),this._clock.stop(t),this.trigger("stop",t),this},t.Transport.prototype.pause=function(t){return t=this.toSeconds(t),this._clock.pause(t),this.trigger("pause",t),this},Object.defineProperty(t.Transport.prototype,"timeSignature",{get:function(){return this._timeSignature},set:function(t){this.isArray(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}}),Object.defineProperty(t.Transport.prototype,"loopStart",{get:function(){return this.ticksToSeconds(this._loopStart)},set:function(t){this._loopStart=this.toTicks(t)}}),Object.defineProperty(t.Transport.prototype,"loopEnd",{get:function(){return this.ticksToSeconds(this._loopEnd)},set:function(t){this._loopEnd=this.toTicks(t)}}),t.Transport.prototype.setLoopPoints=function(t,e){return this.loopStart=t,this.loopEnd=e,this},Object.defineProperty(t.Transport.prototype,"swing",{get:function(){return 2*this._swingAmount},set:function(t){this._swingAmount=.5*t}}),Object.defineProperty(t.Transport.prototype,"swingSubdivision",{get:function(){return this.toNotation(this._swingTicks+"i")},set:function(t){this._swingTicks=this.toTicks(t)}}),Object.defineProperty(t.Transport.prototype,"position",{get:function(){var t=this.ticks/this._ppq,e=Math.floor(t/this._timeSignature),n=t%1*4;return 0<n%1&&(n=n.toFixed(3)),[e,t=Math.floor(t)%this._timeSignature,n].join(":")},set:function(t){var e=this.toTicks(t);this.ticks=e}}),Object.defineProperty(t.Transport.prototype,"progress",{get:function(){return this.loop?(this.ticks-this._loopStart)/(this._loopEnd-this._loopStart):0}}),Object.defineProperty(t.Transport.prototype,"ticks",{get:function(){return this._clock.ticks},set:function(t){this._clock.ticks=t}}),Object.defineProperty(t.Transport.prototype,"PPQ",{get:function(){return this._ppq},set:function(t){this._ppq=t,this.bpm.value=this.bpm.value}}),t.Transport.prototype._fromUnits=function(t){return 1/(60/t/this.PPQ)},t.Transport.prototype._toUnits=function(t){return t/this.PPQ*60},t.Transport.prototype.syncSignal=function(e,n){n||(n=0===e._param.value?0:e._param.value/this.bpm._param.value);var r=new t.Gain(n);return this.bpm.chain(r,e._param),this._syncedSignals.push({ratio:r,signal:e,initial:e._param.value}),e._param.value=0,this},t.Transport.prototype.unsyncSignal=function(t){for(var e,n=this._syncedSignals.length-1;0<=n;n--)(e=this._syncedSignals[n]).signal===t&&(e.ratio.dispose(),e.signal._param.value=e.initial,this._syncedSignals.splice(n,1));return this},t.Transport.prototype.dispose=function(){return t.Emitter.prototype.dispose.call(this),this._clock.dispose(),this._clock=null,this._writable("bpm"),this.bpm=null,this._timeline.dispose(),this._timeline=null,this._onceEvents.dispose(),this._onceEvents=null,this._repeatedEvents.dispose(),this._repeatedEvents=null,this},t.Transport.prototype.setInterval=function(e,n){return console.warn("This method is deprecated. Use Tone.Transport.scheduleRepeat instead."),t.Transport.scheduleRepeat(e,n)},t.Transport.prototype.clearInterval=function(e){return console.warn("This method is deprecated. Use Tone.Transport.clear instead."),t.Transport.clear(e)},t.Transport.prototype.setTimeout=function(e,n){return console.warn("This method is deprecated. Use Tone.Transport.scheduleOnce instead."),t.Transport.scheduleOnce(e,n)},t.Transport.prototype.clearTimeout=function(e){return console.warn("This method is deprecated. Use Tone.Transport.clear instead."),t.Transport.clear(e)},t.Transport.prototype.setTimeline=function(e,n){return console.warn("This method is deprecated. Use Tone.Transport.schedule instead."),t.Transport.schedule(e,n)},t.Transport.prototype.clearTimeline=function(e){return console.warn("This method is deprecated. Use Tone.Transport.clear instead."),t.Transport.clear(e)};var e=t.Transport;return t._initAudioContext(function(){if("function"==typeof t.Transport)t.Transport=new t.Transport;else{t.Transport.stop();var n=t.Transport.get();t.Transport.dispose(),e.call(t.Transport),t.Transport.set(n)}}),t.Transport}.apply(e,r))||(t.exports=i)},LvIN:function(t,e,n){var r,i;r=[n("FiB8"),n("V5jq")],void 0===(i=function(t){"use strict";return t.Timeline=function(){var e=this.optionsObject(arguments,["memory"],t.Timeline.defaults);this._timeline=[],this._toRemove=[],this._iterating=!1,this.memory=e.memory},t.extend(t.Timeline),t.Timeline.defaults={memory:1/0},Object.defineProperty(t.Timeline.prototype,"length",{get:function(){return this._timeline.length}}),t.Timeline.prototype.addEvent=function(t){if(this.isUndef(t.time))throw new Error("events must have a time attribute");if(t.time=this.toSeconds(t.time),this._timeline.length){var e=this._search(t.time);this._timeline.splice(e+1,0,t)}else this._timeline.push(t);if(this.length>this.memory){var n=this.length-this.memory;this._timeline.splice(0,n)}return this},t.Timeline.prototype.removeEvent=function(t){if(this._iterating)this._toRemove.push(t);else{var e=this._timeline.indexOf(t);-1!==e&&this._timeline.splice(e,1)}return this},t.Timeline.prototype.getEvent=function(t){t=this.toSeconds(t);var e=this._search(t);return-1===e?null:this._timeline[e]},t.Timeline.prototype.getEventAfter=function(t){t=this.toSeconds(t);var e=this._search(t);return e+1<this._timeline.length?this._timeline[e+1]:null},t.Timeline.prototype.getEventBefore=function(t){t=this.toSeconds(t);var e=this._search(t);return 0<=e-1?this._timeline[e-1]:null},t.Timeline.prototype.cancel=function(t){if(1<this._timeline.length){t=this.toSeconds(t);var e=this._search(t);this._timeline=0<=e?this._timeline.slice(0,e):[]}else 1===this._timeline.length&&this._timeline[0].time>=t&&(this._timeline=[]);return this},t.Timeline.prototype.cancelBefore=function(t){if(this._timeline.length){t=this.toSeconds(t);var e=this._search(t);0<=e&&(this._timeline=this._timeline.slice(e+1))}return this},t.Timeline.prototype._search=function(t){for(var e=0,n=this._timeline.length,r=n;e<=r&&e<n;){var i=Math.floor(e+(r-e)/2),o=this._timeline[i];if(o.time===t){for(var a=i;a<this._timeline.length;a++)this._timeline[a].time===t&&(i=a);return i}o.time>t?r=i-1:o.time<t&&(e=i+1)}return e-1},t.Timeline.prototype._iterate=function(t,e,n){this._iterating=!0,e=this.defaultArg(e,0),n=this.defaultArg(n,this._timeline.length-1);for(var r=e;r<=n;r++)t(this._timeline[r]);if(this._iterating=!1,0<this._toRemove.length){for(var i,o=0;o<this._toRemove.length;o++)-1!==(i=this._timeline.indexOf(this._toRemove[o]))&&this._timeline.splice(i,1);this._toRemove=[]}},t.Timeline.prototype.forEach=function(t){return this._iterate(t),this},t.Timeline.prototype.forEachBefore=function(t,e){t=this.toSeconds(t);var n=this._search(t);return-1!==n&&this._iterate(e,0,n),this},t.Timeline.prototype.forEachAfter=function(t,e){t=this.toSeconds(t);var n=this._search(t);return this._iterate(e,n+1),this},t.Timeline.prototype.forEachFrom=function(t,e){t=this.toSeconds(t);for(var n=this._search(t);0<=n&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this},t.Timeline.prototype.forEachAtTime=function(t,e){t=this.toSeconds(t);var n=this._search(t);return-1!==n&&this._iterate(function(n){n.time===t&&e(n)},0,n),this},t.Timeline.prototype.dispose=function(){t.prototype.dispose.call(this),this._timeline=null,this._toRemove=null},t.Timeline}.apply(e,r))||(t.exports=i)},Mf1P:function(t,e){t.exports=function(){function t(t,e,n){return Math.round(t/e*n)+"i"}return function(e,n){var r,i,o,a=e.header.ticksPerBeat;(n="object"==typeof n?n:{}).PPQ=void 0===n.PPQ?192:n.PPQ,n.midiNote=!(void 0!==n.midiNote)||n.midiNote,n.noteName=!(void 0!==n.noteName)||n.noteName,n.duration=!(void 0!==n.duration)||n.duration,n.velocity=!(void 0!==n.velocity)||n.velocity;for(var s=[],u=0;u<e.tracks.length;u++){for(var c,l=e.tracks[u],p=[],h=0,f=0;f<l.length;f++)if(h+=(c=l[f]).deltaTime,"noteOn"===c.subtype){var d={ticks:h,time:h,note:c.noteNumber,channel:0};if(c.channel&&(d.channel=c.channel),n.midiNote&&(d.midiNote=c.noteNumber),n.noteName&&(d.noteName=(r=c.noteNumber,void 0,void 0,i=void 0?["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]:["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],o=Math.floor(r/12)-1,i[r%12]+o)),n.velocity){var m=c.velocity/127;d.velocity=m}p.push(d)}else if("noteOff"===c.subtype){for(var v,y=p.length-1;0<=y;y--)if((v=p[y]).note===c.noteNumber&&void 0===v.duration){n.duration&&(v.duration=t(h-v.ticks,a,n.PPQ)),v.time=t(v.time,a,n.PPQ),delete v.note,delete v.ticks;break}}else"meta"===c.type&&"trackName"===c.subtype&&(trackName=c.text,trackName=trackName.replace(/\u0000/g,""));s.push({track:l,part:p})}return{tracks:s}}}()},No7r:function(t,e,n){"use strict";var r=n("ppUm");function i(t,e){return console.warn("new Soundfont() is deprected"),console.log("Please use Soundfont.instrument() instead of new Soundfont().instrument()"),this instanceof i?(this.nameToUrl=e||i.nameToUrl,this.ctx=t,this.instruments={},void(this.promises=[])):new i(t)}i.prototype.onready=function(t){console.warn("deprecated API"),console.log("Please use Promise.all(Soundfont.instrument(), Soundfont.instrument()).then() instead of new Soundfont().onready()"),Promise.all(this.promises).then(t)},i.prototype.instrument=function(t,e){console.warn("new Soundfont().instrument() is deprecated."),console.log("Please use Soundfont.instrument() instead.");var n=this.ctx;if((t=t||"default")in this.instruments)return this.instruments[t];var o={name:t,play:function(t,e){return e=e||{},function(n,i,o,a){console.warn("The oscillator player is deprecated."),console.log("Starting with version 0.9.0 you will have to wait until the soundfont is loaded to play sounds.");var s=0<n&&129>n?+n:r.midi(n),u=s?r.midiToFreq(s,440):null;if(u){o=o||.2;var c=(a=a||{}).destination||e.destination||t.destination,l=a.vcoType||e.vcoType||"sine",p=a.gain||e.gain||.4,h=t.createOscillator();h.type=l,h.frequency.value=u;var f=t.createGain();return f.gain.value=p,h.connect(f),f.connect(c),h.start(i),0<o&&h.stop(i+o),h}}}(n,e)};if(this.instruments[t]=o,"default"!==t){var a=i.instrument(n,t,e).then(function(t){return o.play=t.play,o});this.promises.push(a),o.onready=function(t){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),a.then(t)}}else o.onready=function(t){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),t()};return o},i.loadBuffers=function(t,e,n){return console.warn("Soundfont.loadBuffers is deprecate."),console.log("Use Soundfont.instrument(..) and get buffers properties from the result."),i.instrument(t,e,n).then(function(t){return t.buffers})},i.noteToMidi=r.midi,t.exports=i},O18F:function(t,e,n){var r={find:n("FOgZ")},i={Piano:{"Acoustic Grand Piano":0,"Bright Acoustic Piano":1,"Electric Grand Piano":2,"Honky-tonk Piano":3,"Electric Piano 1":4,"Electric Piano 2":5,Harpsichord:6,Clavichord:7},"Chromatic Percussion":{Celesta:8,Glockenspiel:9,"Music Box":10,Vibraphone:11,Marimba:12,Xylophone:13,"Tubular Bells":14,Dulcimer:15},Organ:{"Drawbar Organ":16,"Percussive Organ":17,"Rock Organ":18,"Church Organ":19,"Reed Organ":20,Accordion:21,Harmonica:22,"Tango Accordion":23},Guitar:{"Acoustic Guitar (nylon)":24,"Acoustic Guitar (steel)":25,"Electric Guitar (jazz)":26,"Electric Guitar (clean)":27,"Electric Guitar (muted)":28,"Overdriven Guitar":29,"Distortion Guitar":30,"Guitar Harmonics":31},Bass:{"Acoustic Bass":32,"Electric Bass (finger)":33,"Electric Bass (pick)":34,"Fretless Bass":35,"Slap Bass 1":36,"Slap Bass 2":37,"Synth Bass 1":38,"Synth Bass 2":39},Strings:{Violin:40,Viola:41,Cello:42,Contrabass:43,"Tremolo Strings":44,"Pizzicato Strings":45,"Orchestral Harp":46,Timpani:47},Ensemble:{"String ensemble 1":48,"String ensemble 2":49,"Synthstrings 1":50,"Synthstrings 2":51,"Choir Aahs":52,"Voice Oohs":53,"Synth Voice":54,"Orchestra Hit":55},Brass:{Trumpet:56,Trombone:57,Tuba:58,"Muted Trumpet":59,"French Horn":60,"Brass Section":61,"SynthBrass 1":62,"SynthBrass 2":63},Reed:{"Soprano Sax":64,"Alto Sax":65,"Tenor Sax":66,"Baritone Sax":67,Oboe:68,"English Horn":69,Bassoon:70,Clarinet:71},Pipe:{Piccolo:72,Flute:73,Recorder:74,"Pan Flute":75,"Blown Bottle":76,Shakuhachi:77,Whistle:78,Ocarina:79},"Synth Lead":{"Lead 1 (square)":80,"Lead 2 (sawtooth)":81,"Lead 3 (calliope)":82,"Lead 4 (chiff)":83,"Lead 5 (charang)":84,"Lead 6 (voice)":85,"Lead 7 (fifths)":86,"Lead 8 (bass lead)":87},"Synth Pad":{"Pad 1 (new age)":88,"Pad 2 (warm)":89,"Pad 3 (polysynth)":90,"Pad 4 (choir)":91,"Pad 5 (bowed)":92,"Pad 6 (metallic)":93,"Pad 7 (halo)":94,"Pad 8 (sweep)":95},Ethnic:{Sitar:104,Banjo:105,Shamisen:106,Koto:107,Kalimba:108,"Bag Pipe":109,Fiddle:110,Shanai:111},Percussive:{"Tinkle Bell":112,Agogo:113,"Steel Drums":114,Woodblock:115,"Taiko Drum":116,"Melodic Tom":117,"Synth Drum":118}},o={Piano:{"Acoustic Grand Piano":0,"Bright Acoustic Piano":1,"Electric Grand Piano":2,"Honky-tonk Piano":3,"Electric Piano 1":4,"Electric Piano 2":5,Harpsichord:6,Clavichord:7},"Chromatic Percussion":{Celesta:8,Glockenspiel:9,"Music Box":10,Vibraphone:11,Marimba:12,Xylophone:13,"Tubular Bells":14,Dulcimer:15},Organ:{"Drawbar Organ":16,"Percussive Organ":17,"Rock Organ":18,"Church Organ":19,"Reed Organ":20,Accordion:21,Harmonica:22,"Tango Accordion":23},Guitar:{"Acoustic Guitar (nylon)":24,"Acoustic Guitar (steel)":25,"Electric Guitar (jazz)":26,"Electric Guitar (clean)":27,"Electric Guitar (muted)":28,"Overdriven Guitar":29,"Distortion Guitar":30,"Guitar Harmonics":31},Bass:{"Acoustic Bass":32,"Electric Bass (finger)":33,"Electric Bass (pick)":34,"Fretless Bass":35,"Slap Bass 1":36,"Slap Bass 2":37,"Synth Bass 1":38,"Synth Bass 2":39},Strings:{Violin:40,Viola:41,Cello:42,Contrabass:43,"Tremolo Strings":44,"Pizzicato Strings":45,"Orchestral Harp":46,Timpani:47},Ensemble:{"String ensemble 1":48,"String ensemble 2":49,"SynthStrings 1":50,"SynthStrings 2":51,"Choir Aahs":52,"Voice Oohs":53,"Synth Voice":54,"Orchestra Hit":55},Brass:{Trumpet:56,Trombone:57,Tuba:58,"Muted Trumpet":59,"French Horn":60,"Brass Section":61,"SynthBrass 1":62,"SynthBrass 2":63},Reed:{"Soprano Sax":64,"Alto Sax":65,"Tenor Sax":66,"Baritone Sax":67,Oboe:68,"English Horn":69,Bassoon:70,Clarinet:71},Pipe:{Piccolo:72,Flute:73,Recorder:74,"Pan Flute":75,"Blown Bottle":76,Shakuhachi:77,Whistle:78,Ocarina:79},"Synth Lead":{"Lead 1 (square)":80,"Lead 2 (sawtooth)":81,"Lead 3 (calliope)":82,"Lead 4 (chiff)":83,"Lead 5 (charang)":84,"Lead 6 (voice)":85,"Lead 7 (fifths)":86,"Lead 8 (bass lead)":87},"Synth Pad":{"Pad 1 (new age)":88,"Pad 2 (warm)":89,"Pad 3 (polysynth)":90,"Pad 4 (choir)":91,"Pad 5 (bowed)":92,"Pad 6 (metallic)":93,"Pad 7 (halo)":94,"Pad 8 (sweep)":95},"Synth Effects":{"FX 1 (rain)":96,"FX 2 (soundtrack)":97,"FX 3 (crystal)":98,"FX 4 (atmosphere)":99,"FX 5 (brightness)":100,"FX 6 (goblins)":101,"FX 7 (echoes)":102,"FX 8 (sci-fi)":103},Ethnic:{Sitar:104,Banjo:105,Shamisen:106,Koto:107,Kalimba:108,"Bag Pipe":109,Fiddle:110,Shanai:111},Percussive:{"Tinkle Bell":112,Agogo:113,"Steel Drums":114,Woodblock:115,"Taiko Drum":116,"Melodic Tom":117,"Synth Drum":118},"Sound effects":{"Reverse Cymbal":119,"Guitar Fret Noise":120,"Breath Noise":121,Seashore:122,"Bird Tweet":123,"Telephone Ring":124,Helicopter:125,Applause:126,Gunshot:127},percussion:{"drumset 0":128,"drumset 1":129,"drumset 2":130,"drumset 3":131,"drumset 4":132,"drumset 5":133,"drumset 6":134,"drumset 7":135,"drumset 8":136,"drumset 9":137,"drumset 10":138,"drumset 11":139,"drumset 12":140,"drumset 13":141,"drumset 14":142,"drumset 15":143,"drumset 16":144,"drumset 17":145,"drumset 18":146,"drumset 19":147,"drumset 24":152,"drumset 25":153,"drumset 32":160,"drumset 33":161,"drumset 34":162,"drumset 35":163,"drumset 36":164,"drumset 40":168,"drumset 41":169,"drumset 42":170,"drumset 48":176}},a=function(t){return t.replace(/[^a-z0-9 ]/gi,"").replace(/[ ]/g,"_").toLowerCase()};t.exports={getList:function(){return o},getSelectionList:function(){return i},clean:a,getById:function(t){var e;return r.find(o,function(n){if(r.find(n,function(n,r){if(n==t)return(e={}).instrument=r,e.number=n,e.id=a(r),!0}))return!0}),e}}},QF4U:function(t,e,n){"use strict";var r=n("QinL"),i=n("amcp");function o(t){return/\.js(\?.*)?$/i.test(t)}function a(t,e,n){return n="ogg"===n?n:"mp3","https://gleitz.github.io/midi-js-soundfonts/"+(e="FluidR3_GM"===e?e:"MusyngKite")+"/"+t+"-"+n+".js"}var s=n("No7r");s.instrument=function t(e,n,s){if(1===arguments.length)return function(n,r){return t(e,n,r)};var u=s||{},c=u.isSoundfontURL||o,l=u.nameToUrl||a,p=c(n)?n:l(n,u.soundfont,u.format);return r(e,p,{only:u.only||u.notes}).then(function(t){var r=i(e,t,u).connect(u.destination?u.destination:e.destination);return r.url=p,r.name=n,r})},s.nameToUrl=a,t.exports&&(t.exports=s),"undefined"!=typeof window&&(window.Soundfont=s)},QinL:function(t,e,n){"use strict";var r=n("wtHK"),i=n("gpy+");function o(t){return function(e){return"string"==typeof e&&t.test(e)}}function a(t,e){return"string"==typeof t?t+e:"function"==typeof t?t(e):e}function s(t,e,n,r){var i=e instanceof ArrayBuffer?u:c(e)?l:function(t){return t&&"function"==typeof t.then}(e)?p:h(e)?f:function(t){return t&&"object"==typeof t}(e)?d:m(e)?v:y(e)?g:_(e)?T:null;return i?i(t,e,n||{}):r?Promise.resolve(r):Promise.reject("Source not valid ("+e+")")}function u(t,e){return new Promise(function(n,r){t.decodeAudioData(e,function(t){n(t)},function(){r("Can't decode audio data ("+e.slice(0,30)+"...)")})})}s.fetch=i;var c=o(/\.(mp3|wav|ogg)(\?.*)?$/i);function l(t,e,n){var r=a(n.from,e);return s(t,s.fetch(r,"arraybuffer"),n)}function p(t,e,n){return e.then(function(e){return s(t,e,n)})}var h=Array.isArray;function f(t,e,n){return Promise.all(e.map(function(e){return s(t,e,n,e)}))}function d(t,e,n){var r={},i=Object.keys(e).map(function(i){if(n.only&&-1===n.only.indexOf(i))return null;var o=e[i];return s(t,o,n,o).then(function(t){r[i]=t})});return Promise.all(i).then(function(){return r})}var m=o(/\.json(\?.*)?$/i);function v(t,e,n){var r=a(n.from,e);return s(t,s.fetch(r,"text").then(JSON.parse),n)}var y=o(/^data:audio/);function g(t,e,n){var i=e.indexOf(",");return s(t,r.decode(e.slice(i+1)).buffer,n)}var _=o(/\.js(\?.*)?$/i);function T(t,e,n){var r=a(n.from,e);return s(t,s.fetch(r,"text").then(b),n)}function b(t){var e=t.indexOf("MIDI.Soundfont.");if(0>e)throw Error("Invalid MIDI.js Soundfont format");e=t.indexOf("=",e)+2;var n=t.lastIndexOf(",");return JSON.parse(t.slice(e,n)+"}")}t.exports&&(t.exports=s),"undefined"!=typeof window&&(window.loadAudio=s)},QtKK:function(t,e,n){var r={map:n("Na5p"),head:n("ItHt"),clone:n("XNqD"),includes:n("nPsm"),findLastIndex:n("519p"),uniq:n("w26f"),find:n("FOgZ"),forEach:n("qm8e")},i=n("QF4U"),o=n("LTwH"),a=n("dUVY"),s=n("FiB8"),u=n("LNzU"),c=n("jM7R"),l=c.EVENT_BUFFER_READY,p=c.EVENT_BUFFER_START,h=c.EVENT_MIDI_DETACHED,f=c.EVENT_MIDI_LOADED,d=c.EVENT_PLAYBACK_RATE_OPTIONS_CHANGE,m=c.EVENT_TIME_LOAD,v=c.EVENT_TIMER_SPEED_UPDATE,y=c.EVENT_BUFFER_REQUEST,g=c.EVENT_PAUSE,_=c.EVENT_PLAY,T=c.EVENT_STOP,b=n("mIXj"),S=n("O18F"),E=n("muxa").getMidiStream,A=n("SaJx").getSoundFontUrl,w={};t.exports=function(t,e,n,c,k,x){function P(e){var n=[];t.trigger(p);var s=0;r.forEach(j.transport.channels,function(t,e){r.forEach(t,function(t,r){var o=S.getById(t.id);if(void 0!==o)if(w[o.id])w[o.id].then(function(t){F[e]||(F[e]=[]),F[e][r]=t});else{var a=i.instrument(I.context,o.id,{nameToUrl:M,loop:!0,loopStart:.5,loopEnd:3}).then(function(t){return F[e]||(F[e]=[]),F[e][r]=t,t});w[o.id]=a,n.push(a)}})}),r.forEach(j.transport.tempos,function(t){o.schedule(function(){O=t.bpm,o.bpm.value=O*U},t.time)}),r.forEach(j.tracks,function(t){var e=function(t){var e=0;return r.forEach(t,function(t){e<parseInt(t.time.replace("i",""))+parseInt(t.duration.replace("i",""))&&(e=parseInt(t.time.replace("i",""))+parseInt(t.duration.replace("i","")))}),e}(t.part);s=s<e?e:s,new a(function(e,n){var r=I.ticksToSeconds(n.duration,O*U),i=function(t,e,n,r,i){return t[n]&&t[n].instrument?t[n].instrument:e[r][i]}(C,F,t.partId,n.channel,t.instrumentIndex),o=0;C[t.partId].disabled||(o=C[t.partId].volume?C[t.partId].volume:1),i.play(n.noteName,0,{duration:r,gain:n.velocity*o*5})},t.part).start(0)}),s+="i",Promise.all(n).then(function(){e&&(t.trigger(l),B=!0,e())})}var O,I,j,R=b(),N=0,M=function(t){return A(t)},B=!1,F={},C={},U=1,D={PPQ:480,midiNote:!0,noteName:!0,velocity:!0,duration:!0},V=x.urls.get();t.on(v,function(t){U=t},R);var L=V.midi;return{loaded:function(){return B},load:function(n,a){t.trigger(m,{id:e.id,bucket:c}),function(e){I=new s,E(L,function(n){(j=u.parse(n,D)).transport.PPQ=D.PPQ,O=j.transport.bpm,o.set(j.transport),o.bpm.value=O*U,j.transport.timeSignature,C=r.clone(j.transport.parts),r.forEach(C,function(e,n){e.disabled=!1,r.forEach(e.tracks,function(t){j.tracks[t].partId=n,j.tracks[t].instrumentIndex=e.instrumentIndex}),t.on("midi.part.volume."+n,function(t){e.volume=t}),t.on("midi.part."+n+".disable",function(){e.disabled=!0}),t.on("midi.part."+n+".enable",function(){e.disabled=!1}),t.on("midi.part.volume."+n,function(t){e.volume=t}),t.on("midi.part.disabled."+n+".request",function(){t.trigger("midi.part.disabled."+n+".response",e.disabled)}),t.on("midi.part.volume."+n+".request",function(){t.trigger("midi.part.volume."+n+".response",e.volume)}),t.on("midi.part.instrument."+n+".request",function(){t.trigger("midi.part.instrument."+n+".response",e.instrumentID)}),t.on("midi.part.instrument."+n,function(r){var o=S.getById(r);i.instrument(I.context,o.id,{nameToUrl:M}).then(function(i){e.instrumentID=r,e.instrument=i,t.trigger("midi.part.instrument."+n+".loaded")})}),t.on("midi.part.instrument."+n+".reset",function(){delete e.instrumentID,delete e.instrument})}),e&&e()})}(function(){t.trigger(f),t.trigger(d,{snap:!1,range:{min:50,max:150}}),a&&a()})},attach:function(){t.on(y,function(t){!function(t){var e=t.callback;B?e&&e():P(e)}(t)},R).on(_,function(t){void 0!==o&&(Math.round(N)!==Math.round(t)&&(o.position=k.getByTime(t).elid+"m"),o.start(0))},R).on(T,function(){void 0!==o&&(o.position="00:00:00",o.stop(0),N=1)},R).on(g,function(){void 0!==o&&(N=n.getPosition(),o.pause(0))},R).on(v,function(t){U=t,o&&(N=n.getPosition(),o.bpm.value=O*U)},R)},detach:function(){t.trigger(h),t.off(null,null,R)}}}},R88s:function(t,e,n){var r,i;r=[n("FiB8"),n("LTwH"),n("V5jq"),n("m2sW")],void 0===(i=function(t){"use strict";return t.Event=function(){var e=this.optionsObject(arguments,["callback","value"],t.Event.defaults);this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._state=new t.TimelineState(t.State.Stopped),this._playbackRate=1,this._startOffset=0,this.probability=e.probability,this.humanize=e.humanize,this.mute=e.mute,this.playbackRate=e.playbackRate},t.extend(t.Event),t.Event.defaults={callback:t.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,value:null,probability:1,mute:!1,humanize:!1},t.Event.prototype._rescheduleEvents=function(e){return e=this.defaultArg(e,-1),this._state.forEachFrom(e,function(e){var n;if(e.state===t.State.Started){this.isUndef(e.id)||t.Transport.clear(e.id);var r=e.time+Math.round(this.startOffset/this._playbackRate);if(this._loop){n=1/0,this.isNumber(this._loop)&&(n=(this._loop-1)*this._getLoopDuration());var i=this._state.getEventAfter(r);null!==i&&(n=Math.min(n,i.time-r)),n!==1/0&&(this._state.setStateAtTime(t.State.Stopped,r+n+1),n+="i"),e.id=t.Transport.scheduleRepeat(this._tick.bind(this),this._getLoopDuration().toString()+"i",r+"i",n)}else e.id=t.Transport.schedule(this._tick.bind(this),r+"i")}}.bind(this)),this},Object.defineProperty(t.Event.prototype,"state",{get:function(){return this._state.getStateAtTime(t.Transport.ticks)}}),Object.defineProperty(t.Event.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t}}),t.Event.prototype.start=function(e){return e=this.toTicks(e),this._state.getStateAtTime(e)===t.State.Stopped&&(this._state.addEvent({state:t.State.Started,time:e,id:void 0}),this._rescheduleEvents(e)),this},t.Event.prototype.stop=function(e){if(this.cancel(e),e=this.toTicks(e),this._state.getStateAtTime(e)===t.State.Started){this._state.setStateAtTime(t.State.Stopped,e);var n=this._state.getEventBefore(e),r=e;null!==n&&(r=n.time),this._rescheduleEvents(r)}return this},t.Event.prototype.cancel=function(e){return e=this.defaultArg(e,-1/0),e=this.toTicks(e),this._state.forEachFrom(e,function(e){t.Transport.clear(e.id)}),this._state.cancel(e),this},t.Event.prototype._tick=function(e){if(!this.mute&&this._state.getStateAtTime(t.Transport.ticks)===t.State.Started){if(1>this.probability&&Math.random()>this.probability)return;if(this.humanize){var n=.02;this.isBoolean(this.humanize)||(n=this.toSeconds(this.humanize)),e+=(2*Math.random()-1)*n}this.callback(e,this.value)}},t.Event.prototype._getLoopDuration=function(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)},Object.defineProperty(t.Event.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"loopEnd",{get:function(){return this.toNotation(this._loopEnd+"i")},set:function(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"loopStart",{get:function(){return this.toNotation(this._loopStart+"i")},set:function(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"progress",{get:function(){if(this._loop){var e=t.Transport.ticks,n=this._state.getEvent(e);if(null!==n&&n.state===t.State.Started){var r=this._getLoopDuration();return(e-n.time)%r/r}return 0}return 0}}),t.Event.prototype.dispose=function(){this.cancel(),this._state.dispose(),this._state=null,this.callback=null,this.value=null},t.Event}.apply(e,r))||(t.exports=i)},RsFJ:function(t,e){(e=t.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}},U6jy:function(t,e){t.exports=function(){for(var t,e={},r=0;r<arguments.length;r++)for(var i in t=arguments[r])n.call(t,i)&&(e[i]=t[i]);return e};var n=Object.prototype.hasOwnProperty},V5jq:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("FiB8")],__WEBPACK_AMD_DEFINE_RESULT__=function(Tone){"use strict";function getTransportBpm(){return Tone.Transport&&Tone.Transport.bpm?Tone.Transport.bpm.value:120}function getTransportTimeSignature(){return Tone.Transport&&Tone.Transport.timeSignature?Tone.Transport.timeSignature:4}function toNotationHelper(t,e,n,r){for(var i=this.toSeconds(t),o=this.notationToSeconds(r[r.length-1],e,n),a="",s=0;s<r.length;s++){var u=this.notationToSeconds(r[s],e,n),c=i/u;if(1-c%1<1e-6&&(c+=1e-6),0<(c=Math.floor(c))){if(a+=1===c?r[s]:c.toString()+"*"+r[s],(i-=c*u)<o)break;a+=" + "}}return""===a&&(a="0"),a}var freqFormat,noteFormat,transportTimeFormat,notationFormat,tickFormat,nowRelative;Tone.Type={Default:"number",Time:"time",Frequency:"frequency",NormalRange:"normalRange",AudioRange:"audioRange",Decibels:"db",Interval:"interval",BPM:"bpm",Positive:"positive",Cents:"cents",Degrees:"degrees",MIDI:"midi",TransportTime:"transportTime",Ticks:"tick",Note:"note",Milliseconds:"milliseconds",Notation:"notation"},Tone.prototype.isNowRelative=(nowRelative=new RegExp(/^\s*\+(.)+/i),function(t){return nowRelative.test(t)}),Tone.prototype.isTicks=(tickFormat=new RegExp(/^\d+i$/i),function(t){return tickFormat.test(t)}),Tone.prototype.isNotation=(notationFormat=new RegExp(/^[0-9]+[mnt]$/i),function(t){return notationFormat.test(t)}),Tone.prototype.isTransportTime=(transportTimeFormat=new RegExp(/^(\d+(\.\d+)?\:){1,2}(\d+(\.\d+)?)?$/i),function(t){return transportTimeFormat.test(t)}),Tone.prototype.isNote=(noteFormat=new RegExp(/^[a-g]{1}(b|#|x|bb)?-?[0-9]+$/i),function(t){return noteFormat.test(t)}),Tone.prototype.isFrequency=(freqFormat=new RegExp(/^\d*\.?\d+hz$/i),function(t){return freqFormat.test(t)}),Tone.prototype.notationToSeconds=function(t,e,n){e=this.defaultArg(e,getTransportBpm()),n=this.defaultArg(n,getTransportTimeSignature());var r=60/e;"1n"===t&&(t="1m");var i=parseInt(t,10);var o=t.slice(-1);return r*("t"===o?4/i*2/3:"n"===o?4/i:"m"===o?i*n:0)},Tone.prototype.transportTimeToSeconds=function(t,e,n){e=this.defaultArg(e,getTransportBpm()),n=this.defaultArg(n,getTransportTimeSignature());var r=0,i=0,o=0,a=t.split(":");return 2===a.length?(r=parseFloat(a[0]),i=parseFloat(a[1])):1===a.length?i=parseFloat(a[0]):3===a.length&&(r=parseFloat(a[0]),i=parseFloat(a[1]),o=parseFloat(a[2])),(r*n+i+o/4)*(60/e)},Tone.prototype.ticksToSeconds=function(t,e){return this.isUndef(Tone.Transport)?0:(t=parseFloat(t),60/(e=this.defaultArg(e,getTransportBpm()))/Tone.Transport.PPQ*t)},Tone.prototype.frequencyToSeconds=function(t){return 1/parseFloat(t)},Tone.prototype.samplesToSeconds=function(t){return t/this.context.sampleRate},Tone.prototype.secondsToSamples=function(t){return t*this.context.sampleRate},Tone.prototype.secondsToTransportTime=function(t,e,n){e=this.defaultArg(e,getTransportBpm()),n=this.defaultArg(n,getTransportTimeSignature());var r=t/(60/e),i=r%1*4;return[Math.floor(r/n),r=Math.floor(r)%n,i].join(":")},Tone.prototype.secondsToFrequency=function(t){return 1/t},Tone.prototype.toTransportTime=function(t,e,n){var r=this.toSeconds(t);return this.secondsToTransportTime(r,e,n)},Tone.prototype.toFrequency=function(t,e){return this.isFrequency(t)?parseFloat(t):this.isNotation(t)||this.isTransportTime(t)?this.secondsToFrequency(this.toSeconds(t,e)):this.isNote(t)?this.noteToFrequency(t):t},Tone.prototype.toTicks=function(t){if(this.isUndef(Tone.Transport))return 0;var e=Tone.Transport.bpm.value,n=0;if(this.isNowRelative(t))t=t.replace("+",""),n=Tone.Transport.ticks;else if(this.isUndef(t))return Tone.Transport.ticks;var r=this.toSeconds(t)/(60/e)*Tone.Transport.PPQ;return Math.round(r+n)},Tone.prototype.toSamples=function(t){var e=this.toSeconds(t);return Math.round(e*this.context.sampleRate)},Tone.prototype.toSeconds=function(time,now){if(now=this.defaultArg(now,this.now()),this.isNumber(time))return time;if(this.isString(time)){var plusTime=0;this.isNowRelative(time)&&(time=time.replace("+",""),plusTime=now);var betweenParens=time.match(/\(([^)(]+)\)/g);if(betweenParens)for(var j=0;j<betweenParens.length;j++){var symbol=betweenParens[j].replace(/[\(\)]/g,""),symbolVal=this.toSeconds(symbol);time=time.replace(betweenParens[j],symbolVal)}if(-1!==time.indexOf("@")){var quantizationSplit=time.split("@");if(this.isUndef(Tone.Transport))throw new Error("quantization requires Tone.Transport");var toQuantize=quantizationSplit[0].trim();""===toQuantize&&(toQuantize=void 0),0<plusTime&&(toQuantize="+"+toQuantize,plusTime=0);var subdivision=quantizationSplit[1].trim();time=Tone.Transport.quantize(toQuantize,subdivision)}else{var components=time.split(/[\(\)\-\+\/\*]/);if(1<components.length){for(var symb,originalTime=time,i=0;i<components.length;i++)if(symb=components[i].trim(),""!==symb){var val=this.toSeconds(symb);time=time.replace(symb,val)}try{time=eval(time)}catch(t){throw new EvalError("cannot evaluate Time: "+originalTime)}}else time=this.isNotation(time)?this.notationToSeconds(time):this.isTransportTime(time)?this.transportTimeToSeconds(time):this.isFrequency(time)?this.frequencyToSeconds(time):this.isTicks(time)?this.ticksToSeconds(time):parseFloat(time)}return time+plusTime}return now},Tone.prototype.toNotation=function(t,e,n){var r=toNotationHelper.call(this,t,e,n,["1m","2n","4n","8n","16n","32n","64n","128n"]),i=toNotationHelper.call(this,t,e,n,["1m","2n","2t","4n","4t","8n","8t","16n","16t","32n","32t","64n","64t","128n"]);return i.split("+").length<r.split("+").length?i:r},Tone.prototype.fromUnits=function(t,e){return this.convert||this.isUndef(this.convert)?e===Tone.Type.Time?this.toSeconds(t):e===Tone.Type.Frequency?this.toFrequency(t):e===Tone.Type.Decibels?this.dbToGain(t):e===Tone.Type.NormalRange?Math.min(Math.max(t,0),1):e===Tone.Type.AudioRange?Math.min(Math.max(t,-1),1):e===Tone.Type.Positive?Math.max(t,0):t:t},Tone.prototype.toUnits=function(t,e){return(this.convert||this.isUndef(this.convert))&&e===Tone.Type.Decibels?this.gainToDb(t):t};var noteToScaleIndex={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},scaleIndexToNote=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return Tone.A4=440,Tone.prototype.noteToFrequency=function(t){var e=t.split(/(-?\d+)/);if(3===e.length){var n=noteToScaleIndex[e[0].toLowerCase()],r=e[1],i=n+12*(parseInt(r,10)+1);return this.midiToFrequency(i)}return 0},Tone.prototype.frequencyToNote=function(t){var e=Math.log(t/Tone.A4)/Math.LN2,n=Math.round(12*e)+57,r=Math.floor(n/12);return 0>r&&(n+=-12*r),scaleIndexToNote[n%12]+r.toString()},Tone.prototype.intervalToFrequencyRatio=function(t){return Math.pow(2,t/12)},Tone.prototype.midiToNote=function(t){var e=Math.floor(t/12)-1;return scaleIndexToNote[t%12]+e},Tone.prototype.noteToMidi=function(t){var e=t.split(/(\d+)/);if(3===e.length){var n=noteToScaleIndex[e[0].toLowerCase()],r=e[1];return n+12*(parseInt(r,10)+1)}return 0},Tone.prototype.midiToFrequency=function(t){return Tone.A4*Math.pow(2,(t-69)/12)},Tone}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},XMzK:function(t,e,n){var r,i;r=[n("FiB8"),n("V5jq")],void 0===(i=function(t){"use strict";return t.Param=function(){var e=this.optionsObject(arguments,["param","units","convert"],t.Param.defaults);this._param=this.input=e.param,this.units=e.units,this.convert=e.convert,this.overridden=!1,this.isUndef(e.value)||(this.value=e.value)},t.extend(t.Param),t.Param.defaults={units:t.Type.Default,convert:!0,param:void 0},Object.defineProperty(t.Param.prototype,"value",{get:function(){return this._toUnits(this._param.value)},set:function(t){var e=this._fromUnits(t);this._param.value=e}}),t.Param.prototype._fromUnits=function(e){if(!this.convert&&!this.isUndef(this.convert))return e;switch(this.units){case t.Type.Time:return this.toSeconds(e);case t.Type.Frequency:return this.toFrequency(e);case t.Type.Decibels:return this.dbToGain(e);case t.Type.NormalRange:return Math.min(Math.max(e,0),1);case t.Type.AudioRange:return Math.min(Math.max(e,-1),1);case t.Type.Positive:return Math.max(e,0);default:return e}},t.Param.prototype._toUnits=function(e){if(!this.convert&&!this.isUndef(this.convert))return e;switch(this.units){case t.Type.Decibels:return this.gainToDb(e);default:return e}},t.Param.prototype._minOutput=1e-5,t.Param.prototype.setValueAtTime=function(t,e){return t=this._fromUnits(t),this._param.setValueAtTime(t,this.toSeconds(e)),this},t.Param.prototype.setRampPoint=function(t){t=this.defaultArg(t,this.now());var e=this._param.value;return this._param.setValueAtTime(e,t),this},t.Param.prototype.linearRampToValueAtTime=function(t,e){return t=this._fromUnits(t),this._param.linearRampToValueAtTime(t,this.toSeconds(e)),this},t.Param.prototype.exponentialRampToValueAtTime=function(t,e){return t=this._fromUnits(t),t=Math.max(this._minOutput,t),this._param.exponentialRampToValueAtTime(t,this.toSeconds(e)),this},t.Param.prototype.exponentialRampToValue=function(t,e){var n=this.now(),r=this.value;return this.setValueAtTime(Math.max(r,this._minOutput),n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this},t.Param.prototype.linearRampToValue=function(t,e){var n=this.now();return this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this},t.Param.prototype.setTargetAtTime=function(t,e,n){return t=this._fromUnits(t),t=Math.max(this._minOutput,t),n=Math.max(this._minOutput,n),this._param.setTargetAtTime(t,this.toSeconds(e),n),this},t.Param.prototype.setValueCurveAtTime=function(t,e,n){for(var r=0;r<t.length;r++)t[r]=this._fromUnits(t[r]);return this._param.setValueCurveAtTime(t,this.toSeconds(e),this.toSeconds(n)),this},t.Param.prototype.cancelScheduledValues=function(t){return this._param.cancelScheduledValues(this.toSeconds(t)),this},t.Param.prototype.rampTo=function(e,n){return n=this.defaultArg(n,0),this.units===t.Type.Frequency||this.units===t.Type.BPM?this.exponentialRampToValue(e,n):this.linearRampToValue(e,n),this},t.Param.prototype.dispose=function(){return t.prototype.dispose.call(this),this._param=null,this},t.Param}.apply(e,r))||(t.exports=i)},YSWA:function(t,e,n){var r,i;r=[n("FiB8"),n("JoP4")],void 0===(i=function(t){"use strict";return t.WaveShaper=function(t,e){this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(t)?this.curve=t:isFinite(t)||this.isUndef(t)?this._curve=new Float32Array(this.defaultArg(t,1024)):this.isFunction(t)&&(this._curve=new Float32Array(this.defaultArg(e,1024)),this.setMap(t))},t.extend(t.WaveShaper,t.SignalBase),t.WaveShaper.prototype.setMap=function(t){for(var e,n=0,r=this._curve.length;n<r;n++)e=n/r*2-1,this._curve[n]=t(e,n);return this._shaper.curve=this._curve,this},Object.defineProperty(t.WaveShaper.prototype,"curve",{get:function(){return this._shaper.curve},set:function(t){this._curve=new Float32Array(t),this._shaper.curve=this._curve}}),Object.defineProperty(t.WaveShaper.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){if(-1===["none","2x","4x"].indexOf(t))throw new Error("invalid oversampling: "+t);this._shaper.oversample=t}}),t.WaveShaper.prototype.dispose=function(){return t.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null,this},t.WaveShaper}.apply(e,r))||(t.exports=i)},YkTe:function(t,e,n){var r=n("SaJx"),i=r.amazonBucketHostUrl,o=r.hwcdnBucketHostUrl,a=n("jM7R"),s=a.EVENT_BUFFER_READY,u=a.EVENT_BUFFER_START,c=a.EVENT_PLAYBACK_RATE_OPTIONS_CHANGE,l=a.EVENT_TIME_LOAD,p=a.EVENT_TIMER_DURATION,h=a.EVENT_TIMER_STOP,f=a.EVENT_TIMER_SPEED_UPDATE;t.exports=function(t,e,n,r,a,d){function m(e){if(function(t){var e=!1;if(0!==v.buffered.length)for(var n=0;n<v.buffered.length;n++){var r=v.buffered.end(n),i=v.buffered.start(n);void 0!==i&&t>=i&&t<=r&&(5<r-t||5<t)&&(e=!0)}return e}(e.start/1e3))v.currentTime=e.start/1e3,v.playbackRate=g,e.callback&&e.callback();else{var n=function(){0===v.readyState?setTimeout(n,100):function(){v.currentTime=e.start/1e3,v.playbackRate=g,function n(){v.currentTime>e.start/1e3?(t.trigger(s),e.callback&&(v.playbackRate=g,e.callback(v.currentTime))):setTimeout(n,50)}(),v.play()}()};v.src=y,v.load(),t.trigger(u),e.callback,n()}}var v,y,g=1,_=0,T=0,b=!1,S="audioSource",E=d.urls.get();return t.on(f,function(t){g=t}),{load:function(n,a){!1,r===i&&(r=o),e.id===n.nid?(e.has_custom_audio,E.mp3&&console.info("Use score.mp3 url from urls"),y=E.mp3):(E.media&&E.media[n.nid]&&E.media[n.nid].mp3&&console.info("Use media score.mp3 url from urls"),y=E.media[n.nid].mp3);(v=new Audio).preload="none",v.src="",v.className="uniqueplayerclass",v.addEventListener("ended",function(){t.trigger(h)}),document.body.appendChild(v),t.trigger(p,e.metadata.duration),t.trigger(l,{id:n.nid,bucket:r}),t.trigger(c,{snap:!1,range:{min:50,max:150}}),setTimeout(function(){a&&a()},50)},attach:function(){t.on("buffer.request",function(t){m(t)},S),t.on("play",function(){v.playbackRate=g,v.paused&&v.play()},S),t.on("stop",function(){v&&v.pause()},S),t.on("pause",function(){v&&v.pause()},S),t.on("seek",function(t){v&&!isNaN(v.duration)&&(v.currentTime=t/1e3)},S),t.on("timer.tick",function(){T=v.currentTime,b||!(T<_+.02)||v.paused||(b=!0),b&&T>_+.02&&!v.paused&&(b=!1),_=T},S)},detach:function(){t.off(null,null,S)}}}},ZESv:function(t,e,n){var r=n("RsFJ"),i=n("0CSc");t.exports=function(t){if(!t)return{};var e={};return i(r(t).split("\n"),function(t){var n,i=t.indexOf(":"),o=r(t.slice(0,i)).toLowerCase(),a=r(t.slice(i+1));void 0===e[o]?e[o]=a:(n=e[o],"[object Array]"===Object.prototype.toString.call(n)?e[o].push(a):e[o]=[e[o],a])}),e}},amcp:function(t,e,n){"use strict";var r=n("nKdV"),i=n("Iz3U"),o=n("2LeX"),a=n("GcRm"),s=n("0bxy");function u(t,e,n){return s(a(o(i(r(t,e,n)))))}t.exports&&(t.exports=u),"undefined"!=typeof window&&(window.SamplePlayer=u)},ax1l:function(t,e,n){var r;t.exports=function t(e,n,i){function o(s,u){if(!n[s]){if(!e[s]){var c="function"==typeof r&&r;if(!u&&c)return r(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var p=n[s]={exports:{}};e[s][0].call(p.exports,function(t){var n=e[s][1][t];return o(n||t)},p,p.exports,t,e,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){return new function(t){if(this._event=t,this._data=t.data,this.receivedTime=t.receivedTime,this._data&&2>this._data.length)console.warn("Illegal MIDI message of length",this._data.length);else switch(this._messageCode=240&t.data[0],this.channel=15&t.data[0],this._messageCode){case 128:this.messageType="noteoff",this.key=127&t.data[1],this.velocity=127&t.data[2];break;case 144:this.messageType="noteon",this.key=127&t.data[1],this.velocity=127&t.data[2];break;case 160:this.messageType="keypressure",this.key=127&t.data[1],this.pressure=127&t.data[2];break;case 176:this.messageType="controlchange",this.controllerNumber=127&t.data[1],this.controllerValue=127&t.data[2],120===this.controllerNumber&&0===this.controllerValue?this.channelModeMessage="allsoundoff":121===this.controllerNumber?this.channelModeMessage="resetallcontrollers":122===this.controllerNumber?0===this.controllerValue?this.channelModeMessage="localcontroloff":this.channelModeMessage="localcontrolon":123===this.controllerNumber&&0===this.controllerValue?this.channelModeMessage="allnotesoff":124===this.controllerNumber&&0===this.controllerValue?this.channelModeMessage="omnimodeoff":125===this.controllerNumber&&0===this.controllerValue?this.channelModeMessage="omnimodeon":126===this.controllerNumber?this.channelModeMessage="monomodeon":127===this.controllerNumber&&(this.channelModeMessage="polymodeon");break;case 192:this.messageType="programchange",this.program=t.data[1];break;case 208:this.messageType="channelpressure",this.pressure=127&t.data[1];break;case 224:this.messageType="pitchbendchange";var e=127&t.data[2],n=127&t.data[1];this.pitchBend=(e<<8)+n}}(t)},e.exports=n.default},{}]},{},[1])(1)},"ay+Y":function(t,e,n){"use strict";n.r(e),n.d(e,"getAudioContext",function(){return r});var r=function(){var t=window.AudioContext;return window.hasOwnProperty("webkitAudioContext")&&void 0===t&&(t=window.webkitAudioContext),t}},dUVY:function(t,e,n){var r,i;r=[n("FiB8"),n("R88s"),n("V5jq"),n("LTwH")],void 0===(i=function(t){"use strict";return t.Part=function(){var e=this.optionsObject(arguments,["callback","events"],t.Part.defaults);this._loop=e.loop,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this._startOffset=0,this._state=new t.TimelineState(t.State.Stopped),this._events=[],this.callback=e.callback,this.mute=e.mute;var n=this.defaultArg(e.events,[]);if(!this.isUndef(e.events))for(var r=0;r<n.length;r++)Array.isArray(n[r])?this.add(n[r][0],n[r][1]):this.add(n[r])},t.extend(t.Part,t.Event),t.Part.defaults={callback:t.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,probability:1,humanize:!1,mute:!1},t.Part.prototype.start=function(e,n){var r=this.toTicks(e);return this._state.getStateAtTime(r)!==t.State.Started&&(n=this.defaultArg(n,0),n=this.toTicks(n),this._state.addEvent({state:t.State.Started,time:r,offset:n}),this._forEach(function(t){this._startNote(t,r,n)})),this},t.Part.prototype._startNote=function(t,e,n){e-=n,this._loop?t.startOffset>=this._loopStart&&t.startOffset<this._loopEnd&&(t.startOffset<n&&(e+=this._getLoopDuration()),t.start(e+"i")):t.startOffset>=n&&t.start(e+"i")},Object.defineProperty(t.Part.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t,this._forEach(function(t){t.startOffset+=this._startOffset})}}),t.Part.prototype.stop=function(e){var n=this.toTicks(e);return this._state.getStateAtTime(n)===t.State.Started&&(this._state.setStateAtTime(t.State.Stopped,n),this._forEach(function(t){t.stop(e)})),this},t.Part.prototype.at=function(t,e){t=this.toTicks(t);for(var n,r=this.ticksToSeconds(1),i=0;i<this._events.length;i++)if(n=this._events[i],Math.abs(t-n.startOffset)<r)return this.isUndef(e)||(n.value=e),n;return this.isUndef(e)?null:(this.add(t+"i",e),this._events[this._events.length-1])},t.Part.prototype.add=function(e,n){var r;return this.isObject(e)&&e.hasOwnProperty("time")&&(e=(n=e).time,delete n.time),e=this.toTicks(e),n instanceof t.Event?(r=n).callback=this._tick.bind(this):r=new t.Event({callback:this._tick.bind(this),value:n}),r.startOffset=e,r.set({loopEnd:this.loopEnd,loopStart:this.loopStart,loop:this.loop,humanize:this.humanize,playbackRate:this.playbackRate,probability:this.probability}),this._events.push(r),this._restartEvent(r),this},t.Part.prototype._restartEvent=function(e){var n=this._state.getEvent(this.now());n&&n.state===t.State.Started&&this._startNote(e,n.time,n.offset)},t.Part.prototype.remove=function(e,n){this.isObject(e)&&e.hasOwnProperty("time")&&(e=(n=e).time),e=this.toTicks(e);for(var r,i=this._events.length-1;0<=i;i--)(r=this._events[i])instanceof t.Part?r.remove(e,n):r.startOffset===e&&(this.isUndef(n)||!this.isUndef(n)&&r.value===n)&&(this._events.splice(i,1),r.dispose());return this},t.Part.prototype.removeAll=function(){return this._forEach(function(t){t.dispose()}),this._events=[],this},t.Part.prototype.cancel=function(t){return this._forEach(function(e){e.cancel(t)}),this._state.cancel(t),this},t.Part.prototype._forEach=function(e,n){n=this.defaultArg(n,this);for(var r,i=this._events.length-1;0<=i;i--)(r=this._events[i])instanceof t.Part?r._forEach(e,n):e.call(n,r);return this},t.Part.prototype._setAll=function(t,e){this._forEach(function(n){n[t]=e})},t.Part.prototype._tick=function(t,e){this.mute||this.callback(t,e)},t.Part.prototype._testLoopBoundries=function(e){e.startOffset<this._loopStart||e.startOffset>=this._loopEnd?e.cancel():e.state===t.State.Stopped&&this._restartEvent(e)},Object.defineProperty(t.Part.prototype,"probability",{get:function(){return this._probability},set:function(t){this._probability=t,this._setAll("probability",t)}}),Object.defineProperty(t.Part.prototype,"humanize",{get:function(){return this._humanize},set:function(t){this._humanize=t,this._setAll("humanize",t)}}),Object.defineProperty(t.Part.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._forEach(function(e){e._loopStart=this._loopStart,e._loopEnd=this._loopEnd,e.loop=t,this._testLoopBoundries(e)})}}),Object.defineProperty(t.Part.prototype,"loopEnd",{get:function(){return this.toNotation(this._loopEnd+"i")},set:function(t){this._loopEnd=this.toTicks(t),this._loop&&this._forEach(function(t){t.loopEnd=this.loopEnd,this._testLoopBoundries(t)})}}),Object.defineProperty(t.Part.prototype,"loopStart",{get:function(){return this.toNotation(this._loopStart+"i")},set:function(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach(function(t){t.loopStart=this.loopStart,this._testLoopBoundries(t)})}}),Object.defineProperty(t.Part.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._setAll("playbackRate",t)}}),Object.defineProperty(t.Part.prototype,"length",{get:function(){return this._events.length}}),t.Part.prototype.dispose=function(){return this.removeAll(),this._state.dispose(),this._state=null,this.callback=null,this._events=null,this},t.Part}.apply(e,r))||(t.exports=i)},fIjt:function(t,e){t.exports=function(t){var e=t.createGain(),o=e._voltage=function(t){var e=t.createBufferSource(),n=t.createBuffer(1,2,t.sampleRate);return n.getChannelData(0).set(r),e.buffer=n,e.loop=!0,e}(t),a=i(o),s=i(o),u=i(o);return e._startAmount=i(s),e._endAmount=i(u),e._multiplier=i(a),e._multiplier.connect(e),e._startAmount.connect(e),e._endAmount.connect(e),e.value=a.gain,e.startValue=s.gain,e.endValue=u.gain,e.startValue.value=0,e.endValue.value=0,Object.defineProperties(e,n),e};var n={attack:{value:0,writable:!0},decay:{value:0,writable:!0},sustain:{value:1,writable:!0},release:{value:0,writable:!0},getReleaseDuration:{value:function(){return this.release}},start:{value:function(t){var e=this._multiplier.gain,n=this._startAmount.gain,r=this._endAmount.gain;this._voltage.start(t),this._decayFrom=this._decayFrom=t+this.attack,this._startedAt=t;var i=this.sustain;e.cancelScheduledValues(t),n.cancelScheduledValues(t),r.cancelScheduledValues(t),r.setValueAtTime(0,t),this.attack?(e.setValueAtTime(0,t),e.linearRampToValueAtTime(1,t+this.attack),n.setValueAtTime(1,t),n.linearRampToValueAtTime(0,t+this.attack)):(e.setValueAtTime(1,t),n.setValueAtTime(0,t)),this.decay&&e.setTargetAtTime(i,this._decayFrom,o(this.decay))}},stop:{value:function(t,e){e&&(t-=this.release);var n=t+this.release;if(this.release){var r=this._multiplier.gain,i=this._startAmount.gain,a=this._endAmount.gain;r.cancelScheduledValues(t),i.cancelScheduledValues(t),a.cancelScheduledValues(t);var s=o(this.release);if(this.attack&&t<this._decayFrom){var u=function(t,e,n,r,i){var o=t+(i-n)/(r-n)*(e-t);return o<=t&&(o=t),o>=e&&(o=e),o}(0,1,this._startedAt,this._decayFrom,t);r.linearRampToValueAtTime(u,t),i.linearRampToValueAtTime(1-u,t),i.setTargetAtTime(0,t,s)}a.setTargetAtTime(1,t,s),r.setTargetAtTime(0,t,s)}return this._voltage.stop(n),n}},onended:{get:function(){return this._voltage.onended},set:function(t){this._voltage.onended=t}}},r=new Float32Array([1,1]);function i(t){var e=t.context.createGain();return t.connect(e),e}function o(t){return Math.log(t+1)/Math.log(100)}},g2LC:function(t,e){t.exports=function(t){var e=n.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var n=Object.prototype.toString},"gpy+":function(t,e,n){"use strict";t.exports=function(t,e){return new Promise(function(n,r){var i=new XMLHttpRequest;e&&(i.responseType=e),i.open("GET",t),i.onload=function(){200===i.status?n(i.response):r(Error(i.statusText))},i.onerror=function(){r(Error("Network Error"))},i.send()})}},iEUn:function(t,e,n){var r=n("7sdD"),i=[],o=n("mIXj")();t.exports=function(t,e,n){function a(){if(c){var t=((new Date).getTime()-c)/1e3;c=void 0,sendEvent({type:"playTime",origin:"jmuse",scoreSession:o,userId:n.userId.get(),source:s.type,value:t,entityId:e.id})}}var s,u,c;!function(){try{window.self,window.top}catch(t){return!0}}();if(n.sendEvents.get()){var l=function(t){t.ownerId=parseFloat(e.user.uid),i.push(t)};t.once("timer.play",function(){l({type:"play",origin:"jmuse",scoreSession:o,userId:n.userId.get(),source:s.type,entityId:e.id})}),t.on("timer.play",function(){c=(new Date).getTime()}),t.on("player.ready",function(){(new Date).getTime(),l({type:"waypoint",origin:"jmuse",value:"view",scoreSession:o,userId:n.userId.get(),source:s.type,entityId:e.id})}),t.on("first.interaction",function(){(new Date).getTime(),l({type:"waypoint",origin:"jmuse",value:"first",scoreSession:o,userId:n.userId.get(),source:s.type,entityId:e.id}),void 0}),t.on("timer.pause",function(){a(),l({type:"interaction",origin:"jmuse",target:"pause",scoreSession:o,userId:n.userId.get(),source:s.type,entityId:e.id})}),t.on("timer.stop",function(){l({type:"interaction",origin:"jmuse",target:"stop",userId:n.userId.get(),scoreSession:o,source:s.type,entityId:e.id}),a()}),t.on("timer.rewind",function(){l({type:"interaction",origin:"jmuse",target:"rewind",userId:n.userId.get(),scoreSession:o,source:s.type,entityId:e.id})}),t.on("fullscreen.toggled",function(){l({type:"interaction",origin:"jmuse",target:"fullscreen",scoreSession:o,userId:n.userId.get(),source:s.type,entityId:e.id})}),t.on("source.new",function(t){s?(s=t,l({type:"interaction",origin:"jmuse",target:"source",scoreSession:o,userId:n.userId.get(),value:s.type,entityId:e.id})):s=t}),t.on("slider.seek",function(){l({type:"interaction",origin:"jmuse",target:"seek",scoreSession:o,userId:n.userId.get(),source:s.type,entityId:e.id})}),t.once("buffer.start",function(){u=(new Date).getTime()}),t.on("options.open",function(t){l({type:"interaction",origin:"jmuse",target:t.name,scoreSession:o,userId:n.userId.get(),source:s.type,entityId:e.id})}),t.once("buffer.ready",function(){var t=((new Date).getTime()-u)/1e3;u=void 0,l({type:"buffer",origin:"jmuse",value:t,scoreSession:o,userId:n.userId.get(),source:s.type,entityId:e.id})}),t.on("timer.set.user",function(t){l({type:"interaction",origin:"jmuse",target:"tempo",value:100*t,scoreSession:o,userId:n.userId.get(),source:s.type,entityId:e.id})}),t.on("user.share",function(t){l({type:"interaction",origin:"jmuse",target:"share",value:t,scoreSession:o,userId:n.userId.get(),source:s.type,entityId:e.id})}),t.on("interaction.direction",function(t){l({type:"interaction",origin:"jmuse",target:"direction",value:t,scoreSession:o,userId:n.userId.get(),source:s.type,entityId:e.id})}),t.on("measure.set.loop",function(){l({type:"interaction",origin:"jmuse",target:"loop",scoreSession:o,userId:n.userId.get(),source:s.type,entityId:e.id})}),t.on("instrument.set",function(t){l({type:"instrument",origin:"jmuse",value:t,scoreSession:o,userId:n.userId.get(),source:s.type,entityId:e.id})}),window.onbeforeunload=a,setInterval(function(){0<i.length&&(r({method:"POST",json:!0,body:i,uri:"//1-dot-musescore-event-proxy.appspot.com/events"},function(){}),i=[])},5e3)}}},iMjI:function(t,e,n){var r,i;r=[n("FiB8"),n("V5jq")],void 0===(i=function(t){"use strict";t.IntervalTimeline=function(){this._root=null,this._length=0},t.extend(t.IntervalTimeline),t.IntervalTimeline.prototype.addEvent=function(t){if(this.isUndef(t.time)||this.isUndef(t.duration))throw new Error("events must have time and duration parameters");var n=new e(t.time,t.time+t.duration,t);for(null===this._root?this._root=n:this._root.insert(n),this._length++;null!==n;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this},t.IntervalTimeline.prototype.removeEvent=function(t){if(null!==this._root){var e=[];this._root.search(t.time,e);for(var n,r=0;r<e.length;r++)if((n=e[r]).event===t){this._removeNode(n),this._length--;break}}return this},Object.defineProperty(t.IntervalTimeline.prototype,"length",{get:function(){return this._length}}),t.IntervalTimeline.prototype.cancel=function(t){return t=this.toSeconds(t),this.forEachAfter(t,function(t){this.removeEvent(t)}.bind(this)),this},t.IntervalTimeline.prototype._setRoot=function(t){this._root=t,null!==this._root&&(this._root.parent=null)},t.IntervalTimeline.prototype._replaceNodeInParent=function(t,e){null===t.parent?this._setRoot(e):(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent))},t.IntervalTimeline.prototype._removeNode=function(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{var e,n;if(0<t.getBalance())if(null===t.left.right)(e=t.left).right=t.right,n=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent.right=e.left,n=e.parent,e.left=t.left,e.right=t.right}else if(null===t.right.left)(e=t.right).left=t.left,n=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent=e.parent,e.parent.left=e.right,n=e.parent,e.left=t.left,e.right=t.right}null===t.parent?this._setRoot(e):t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(n)}t.dispose()},t.IntervalTimeline.prototype._rotateLeft=function(t){var e=t.parent,n=t.isLeftChild(),r=t.right;t.right=r.left,r.left=t,null===e?this._setRoot(r):n?e.left=r:e.right=r},t.IntervalTimeline.prototype._rotateRight=function(t){var e=t.parent,n=t.isLeftChild(),r=t.left;t.left=r.right,r.right=t,null===e?this._setRoot(r):n?e.left=r:e.right=r},t.IntervalTimeline.prototype._rebalance=function(t){var e=t.getBalance();1<e?0>t.left.getBalance()?this._rotateLeft(t.left):this._rotateRight(t):-1>e&&(0<t.right.getBalance()?this._rotateRight(t.right):this._rotateLeft(t))},t.IntervalTimeline.prototype.getEvent=function(t){if(null!==this._root){var e=[];if(this._root.search(t,e),0<e.length){for(var n=e[0],r=1;r<e.length;r++)e[r].low>n.low&&(n=e[r]);return n.event}}return null},t.IntervalTimeline.prototype.forEach=function(t){if(null!==this._root){var e=[];null!==this._root&&this._root.traverse(function(t){e.push(t)});for(var n,r=0;r<e.length;r++)(n=e[r].event)&&t(n)}return this},t.IntervalTimeline.prototype.forEachOverlap=function(t,e){if(t=this.toSeconds(t),null!==this._root){var n=[];this._root.search(t,n);for(var r,i=n.length-1;0<=i;i--)(r=n[i].event)&&e(r)}return this},t.IntervalTimeline.prototype.forEachAfter=function(t,e){if(t=this.toSeconds(t),null!==this._root){var n=[];this._root.searchAfter(t,n);for(var r,i=n.length-1;0<=i;i--)(r=n[i].event)&&e(r)}return this},t.IntervalTimeline.prototype.dispose=function(){var t=[];null!==this._root&&this._root.traverse(function(e){t.push(e)});for(var e=0;e<t.length;e++)t[e].dispose();return t=null,this._root=null,this};var e=function(t,e,n){this.event=n,this.low=t,this.high=e,this.max=this.high,this._left=null,this._right=null,this.parent=null,this.height=0};return e.prototype.insert=function(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)},e.prototype.search=function(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>=t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))},e.prototype.searchAfter=function(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)},e.prototype.traverse=function(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)},e.prototype.updateHeight=function(){this.height=null!==this.left&&null!==this.right?Math.max(this.left.height,this.right.height)+1:null===this.right?null===this.left?0:this.left.height+1:this.right.height+1},e.prototype.updateMax=function(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))},e.prototype.getBalance=function(){var t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null===this.left?null!==this.right&&(t=-(this.right.height+1)):t=this.left.height+1,t},e.prototype.isLeftChild=function(){return null!==this.parent&&this.parent.left===this},Object.defineProperty(e.prototype,"left",{get:function(){return this._left},set:function(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}}),Object.defineProperty(e.prototype,"right",{get:function(){return this._right},set:function(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}}),e.prototype.dispose=function(){this.parent=null,this._left=null,this._right=null,this.event=null},t.IntervalTimeline}.apply(e,r))||(t.exports=i)},iPEE:function(t,e,n){t.exports=function(t){var e=t.mInstance,r=t.config,i=t.time,o=t.timer,a=t.score,s=t.space,u=n("chWN")(e,r.container.get(),r),c=n("7imI")(e,a.getDimensions(),r.container.get(),r.direction.get(),r.dimensions.get(),r.visiblePages.get(),r.controlsHeight.get()),l=n("uvh7")(e,c.get(),a.getDimensions(),r.direction.get(),u,r),p=n("4Dul")(e,a.getDimensions(),i,s,l,o),h=n("/Xjq")(e,a.getDimensions(),s,l),f=n("jbL2")(e,l,h,p,c,r),d=n("fwOr")(e,p),m=n("cUeR")(e,a.getDimensions(),r,l,f),v=n("h0yP")(r,e,c,l,o,u),y=n("rxfQ")(e,a.get(),p,o,r),g=n("iEUn")(e,a.get(),r),_=n("61Ma")(r,e,l),T=n("hCGp")(c,r,f,e,l,u,p,s,m,d,a.getDimensions());return r.pianoKeyboard.get()&&r.pianoKeyboard.get().enabled&&n.e(53).then(n.t.bind(null,"bH9j",7)).then(function(t){return(t.default||t)(e,r,o)}),r.pianoRoll.get()&&r.pianoRoll.get().enabled&&n.e(92).then(n.t.bind(null,"gxBj",7)).then(function(t){return(t.default||t)(e,r,o,i)}),{fullscreen:u,viewPort:c,pageManager:l,measure:p,system:h,scroll:f,commentEditor:d,comments:m,video:v,musicManager:y,events:g,container:_,viewer:T}}},ka0V:function(t,e,n){var r,i;r=[n("FiB8"),n("YSWA"),n("V5jq"),n("XMzK"),n("HdlA")],void 0===(i=function(t){"use strict";return t.Signal=function(){var e=this.optionsObject(arguments,["value","units"],t.Signal.defaults);this.output=this._gain=this.context.createGain(),e.param=this._gain.gain,t.Param.call(this,e),this.input=this._param=this._gain.gain,t.Signal._constant.chain(this._gain)},t.extend(t.Signal,t.Param),t.Signal.defaults={value:0,units:t.Type.Default,convert:!0},t.Signal.prototype.connect=t.SignalBase.prototype.connect,t.Signal.prototype.dispose=function(){return t.Param.prototype.dispose.call(this),this._param=null,this._gain.disconnect(),this._gain=null,this},t.Signal._constant=null,t._initAudioContext(function(e){for(var n=e.createBuffer(1,128,e.sampleRate),r=n.getChannelData(0),i=0;i<r.length;i++)r[i]=1;t.Signal._constant=e.createBufferSource(),t.Signal._constant.channelCount=1,t.Signal._constant.channelCountMode="explicit",t.Signal._constant.buffer=n,t.Signal._constant.loop=!0,t.Signal._constant.start(0),t.Signal._constant.noGC()}),t.Signal}.apply(e,r))||(t.exports=i)},kaZN:function(t,e,n){"use strict";var r=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;var i=[0,2,4,5,7,9,11];function o(t,e,n){if("string"!=typeof t)return null;var o=r.exec(t);if(!o||!e&&o[4])return null;var s={letter:o[1].toUpperCase(),acc:o[2].replace(/x/g,"##")};return s.pc=s.letter+s.acc,s.step=(s.letter.charCodeAt(0)+3)%7,s.alt="b"===s.acc[0]?-s.acc.length:s.acc.length,s.chroma=i[s.step]+s.alt,o[3]&&(s.oct=+o[3],s.midi=s.chroma+12*(s.oct+1),s.freq=a(s.midi,n)),e&&(s.tonicOf=o[4]),s}function a(t,e){return Math.pow(2,(t-69)/12)*(e||440)}var s={parse:o,regex:function(){return r},midiToFreq:a};["letter","acc","pc","step","alt","chroma","oct","midi","freq"].forEach(function(t){s[t]=function(e){var n=o(e);return n&&void 0!==n[t]?n[t]:null}}),t.exports=s},m2sW:function(t,e,n){var r,i;r=[n("FiB8"),n("LvIN"),n("V5jq")],void 0===(i=function(t){"use strict";return t.TimelineState=function(e){t.Timeline.call(this),this._initial=e},t.extend(t.TimelineState,t.Timeline),t.TimelineState.prototype.getStateAtTime=function(t){var e=this.getEvent(t);return null===e?this._initial:e.state},t.TimelineState.prototype.setStateAtTime=function(t,e){this.addEvent({state:t,time:this.toSeconds(e)})},t.TimelineState}.apply(e,r))||(t.exports=i)},nKdV:function(t,e,n){"use strict";var r=n("fIjt"),i={},o={gain:1,attack:.01,decay:.1,sustain:.9,release:.3,loop:!1,cents:0,loopStart:0,loopEnd:0};function a(t){return"number"==typeof t}var s=["attack","decay","sustain","release"];t.exports=function(t,e,n){function u(e,n,i){var o,u=t.createGain();return u.gain.value=0,u.connect(h),u.env=function(t,e,n){var i=r(t),o=e.adsr||n.adsr;return s.forEach(function(t,r){i[t]=o?o[r]:e[t]||n[t]}),i.value.value=a(e.gain)?e.gain:a(n.gain)?n.gain:1,i}(t,i,f),u.env.connect(u.gain),u.source=t.createBufferSource(),u.source.buffer=n,u.source.connect(u),u.source.loop=i.loop||f.loop,u.source.playbackRate.value=(o=i.cents||f.cents)?Math.pow(2,o/1200):1,u.source.loopStart=i.loopStart||f.loopStart,u.source.loopEnd=i.loopEnd||f.loopEnd,u.stop=function(n){var r=n||t.currentTime;d.emit("stop",r,e);var i=u.env.stop(r);u.source.stop(i)},u}var c=!1,l=0,p={},h=t.createGain();h.gain.value=1;var f=Object.assign({},o,n),d={context:t,out:h,opts:f};return e instanceof AudioBuffer?d.buffer=e:d.buffers=e,d.start=function(e,n,r){if(d.buffer&&null!==e)return d.start(null,e,n);var o=e?d.buffers[e]:d.buffer;if(o){if(c){var a=r||i;n=Math.max(t.currentTime,n||0),d.emit("start",n,e,a);var s=u(e,o,a);return s.id=function(e,n){return n.id=l++,p[n.id]=n,n.source.onended=function(){var e=t.currentTime;n.source.disconnect(),n.env.disconnect(),n.disconnect(),d.emit("ended",e,n.id,n)},n.id}(0,s),s.env.start(n),s.source.start(n),d.emit("started",n,s.id,s),a.duration&&s.stop(n+a.duration),s}console.warn("SamplePlayer not connected to any node.")}else console.warn("Buffer "+e+" not found.")},d.play=function(t,e,n){return d.start(t,e,n)},d.stop=function(t,e){var n;return(e=e||Object.keys(p)).map(function(e){return(n=p[e])?(n.stop(t),n.id):null})},d.connect=function(t){return c=!0,h.connect(t),d},d.emit=function(t,e,n,r){d.onevent&&d.onevent(t,e,n,r);var i=d["on"+t];i&&i(e,n,r)},d}},ppUm:function(t,e,n){"use strict";function r(t,e){return Array(e+1).join(t)}function i(t){return"number"==typeof t}function o(t,e){return Math.pow(2,(t-69)/12)*(e||440)}n.r(e),n.d(e,"regex",function(){return s}),n.d(e,"parse",function(){return c}),n.d(e,"build",function(){return p}),n.d(e,"midi",function(){return h}),n.d(e,"freq",function(){return f}),n.d(e,"letter",function(){return d}),n.d(e,"acc",function(){return m}),n.d(e,"pc",function(){return v}),n.d(e,"step",function(){return y}),n.d(e,"alt",function(){return g}),n.d(e,"chroma",function(){return _}),n.d(e,"oct",function(){return T});var a=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function s(){return a}var u=[0,2,4,5,7,9,11];function c(t,e,n){if("string"!=typeof t)return null;var r=a.exec(t);if(!r||!e&&r[4])return null;var i={letter:r[1].toUpperCase(),acc:r[2].replace(/x/g,"##")};i.pc=i.letter+i.acc,i.step=(i.letter.charCodeAt(0)+3)%7,i.alt="b"===i.acc[0]?-i.acc.length:i.acc.length;var s=u[i.step]+i.alt;return i.chroma=0>s?12+s:s%12,r[3]&&(i.oct=+r[3],i.midi=s+12*(i.oct+1),i.freq=o(i.midi,n)),e&&(i.tonicOf=r[4]),i}var l="CDEFGAB";function p(t,e,n){return null===t||void 0===t?null:t.step?p(t.step,t.alt,t.oct):0>t||6<t?null:l.charAt(t)+(i(o=e)?0>o?r("b",-o):r("#",o):"")+function(t){return i(t)?""+t:""}(n);var o}function h(t){if((i(t)||"string"==typeof t)&&0<=t&&128>t)return+t;var e=c(t);return e&&function(t){return void 0!==t}(e.midi)?e.midi:null}function f(t,e){var n=h(t);return null===n?null:o(n,e)}function d(t){return(c(t)||{}).letter}function m(t){return(c(t)||{}).acc}function v(t){return(c(t)||{}).pc}function y(t){return(c(t)||{}).step}function g(t){return(c(t)||{}).alt}function _(t){return(c(t)||{}).chroma}function T(t){return(c(t)||{}).oct}},rxfQ:function(t,e,n){var r=n("ay+Y").getAudioContext,i=n("vyuo").isIOS,o={map:n("Na5p"),find:n("FOgZ")},a="playing";t.exports=function(t,e,s,u,c){function l(n){var r=o.find(h,function(t){return t.nid+"_"+t.type===n}),i=u.getStatus(),c=s.getActive();r&&r.source?(t.trigger("controls.disabled"),i===a&&t.trigger("timer.pause"),y=!1,p&&p.source&&p.source.detach&&p.source.detach(),r.source.load(r,function(){r.source.attach(),y=!0,t.trigger("controls.enabled"),c&&s.setActive(c.id),i===a&&t.trigger("timer.play")}),void 0===p&&t.trigger("sound.ready"),p=r,t.trigger("source.new",p)):n===e.nid+"_audio"?console.log("Cannot load source"):(console.log("Cannot load source, falling back to audio"),l(e.id+"_audio"))}var p,h=c.mediaSources.get(),f=c.bucketHost.get(),d=c.defaultMediaSource.get(),m=r(),v={audio:n("YkTe")};i()?console.log("Youtube playback is not supported. :("):v.youtube=n("cKz7"),void 0===m?console.log("Midi playback is not supported. :("):v.midi=n("QtKK"),h=o.map(h,function(n){var r=o.find(v,function(t,e){return n.type===e});return r?(n.source=r(t,e,u,f,s,c),n.disabled=!1):n.disabled=!0,n}),t.trigger("mediaSources.loaded",h);var y=!1;return t.on("musicManager.load",l),{mediaSources:function(){return h},current:function(){return p},init:function(){d?l(d):h[0]?l(h[0].nid+"_"+h[0].type):console.log("No audio sources for this score")},load:l,enabled:function(){return y}}}},toUB:function(t,e,n){var r,i;r=[n("FiB8"),n("ka0V"),n("LvIN")],void 0===(i=function(t){"use strict";return t.TimelineSignal=function(){var e=this.optionsObject(arguments,["value","units"],t.Signal.defaults);t.Signal.apply(this,e),e.param=this._param,t.Param.call(this,e),this._events=new t.Timeline(10),this._initial=this._fromUnits(this._param.value)},t.extend(t.TimelineSignal,t.Param),t.TimelineSignal.Type={Linear:"linear",Exponential:"exponential",Target:"target",Set:"set"},Object.defineProperty(t.TimelineSignal.prototype,"value",{get:function(){return this._toUnits(this._param.value)},set:function(t){var e=this._fromUnits(t);this._initial=e,this._param.value=e}}),t.TimelineSignal.prototype.setValueAtTime=function(e,n){return e=this._fromUnits(e),n=this.toSeconds(n),this._events.addEvent({type:t.TimelineSignal.Type.Set,value:e,time:n}),this._param.setValueAtTime(e,n),this},t.TimelineSignal.prototype.linearRampToValueAtTime=function(e,n){return e=this._fromUnits(e),n=this.toSeconds(n),this._events.addEvent({type:t.TimelineSignal.Type.Linear,value:e,time:n}),this._param.linearRampToValueAtTime(e,n),this},t.TimelineSignal.prototype.exponentialRampToValueAtTime=function(e,n){return e=this._fromUnits(e),e=Math.max(this._minOutput,e),n=this.toSeconds(n),this._events.addEvent({type:t.TimelineSignal.Type.Exponential,value:e,time:n}),this._param.exponentialRampToValueAtTime(e,n),this},t.TimelineSignal.prototype.setTargetAtTime=function(e,n,r){return e=this._fromUnits(e),e=Math.max(this._minOutput,e),r=Math.max(this._minOutput,r),n=this.toSeconds(n),this._events.addEvent({type:t.TimelineSignal.Type.Target,value:e,time:n,constant:r}),this._param.setTargetAtTime(e,n,r),this},t.TimelineSignal.prototype.cancelScheduledValues=function(t){return this._events.cancel(t),this._param.cancelScheduledValues(this.toSeconds(t)),this},t.TimelineSignal.prototype.setRampPoint=function(e){e=this.toSeconds(e);var n=this.getValueAtTime(e),r=this._searchAfter(e);return r&&(this.cancelScheduledValues(e),r.type===t.TimelineSignal.Type.Linear?this.linearRampToValueAtTime(n,e):r.type===t.TimelineSignal.Type.Exponential&&this.exponentialRampToValueAtTime(n,e)),this.setValueAtTime(n,e),this},t.TimelineSignal.prototype.linearRampToValueBetween=function(t,e,n){return this.setRampPoint(e),this.linearRampToValueAtTime(t,n),this},t.TimelineSignal.prototype.exponentialRampToValueBetween=function(t,e,n){return this.setRampPoint(e),this.exponentialRampToValueAtTime(t,n),this},t.TimelineSignal.prototype._searchBefore=function(t){return this._events.getEvent(t)},t.TimelineSignal.prototype._searchAfter=function(t){return this._events.getEventAfter(t)},t.TimelineSignal.prototype.getValueAtTime=function(e){var n=this._searchAfter(e),r=this._searchBefore(e),i=this._initial;if(null===r)i=this._initial;else if(r.type===t.TimelineSignal.Type.Target){var o,a=this._events.getEventBefore(r.time);o=null===a?this._initial:a.value,i=this._exponentialApproach(r.time,o,r.value,r.constant,e)}else i=null===n?r.value:n.type===t.TimelineSignal.Type.Linear?this._linearInterpolate(r.time,r.value,n.time,n.value,e):n.type===t.TimelineSignal.Type.Exponential?this._exponentialInterpolate(r.time,r.value,n.time,n.value,e):r.value;return i},t.TimelineSignal.prototype.connect=t.SignalBase.prototype.connect,t.TimelineSignal.prototype._exponentialApproach=function(t,e,n,r,i){return n+(e-n)*Math.exp(-(i-t)/r)},t.TimelineSignal.prototype._linearInterpolate=function(t,e,n,r,i){return e+(i-t)/(n-t)*(r-e)},t.TimelineSignal.prototype._exponentialInterpolate=function(t,e,n,r,i){return(e=Math.max(this._minOutput,e))*Math.pow(r/e,(i-t)/(n-t))},t.TimelineSignal.prototype.dispose=function(){t.Signal.prototype.dispose.call(this),t.Param.prototype.dispose.call(this),this._events.dispose(),this._events=null},t.TimelineSignal}.apply(e,r))||(t.exports=i)},wtHK:function(t,e,n){"use strict";t.exports={decode:function(t,e){for(var n,r,i=t.replace(/[^A-Za-z0-9\+\/]/g,""),o=i.length,a=e?Math.ceil((3*o+1>>2)/e)*e:3*o+1>>2,s=new Uint8Array(a),u=0,c=0,l=0;l<o;l++)if(r=3&l,u|=(64<(p=i.charCodeAt(l))&&91>p?p-65:96<p&&123>p?p-71:47<p&&58>p?p+4:43===p?62:47===p?63:0)<<18-6*r,3===r||1==o-l){for(n=0;3>n&&c<a;n++,c++)s[c]=255&u>>>(24&16>>>n);u=0}var p;return s}}},x06w:function(t,e){function n(t){function e(e){var r=t.charCodeAt(n);return e&&127<r&&(r-=256),n+=1,r}var n=0;return{eof:function(){return n>=t.length},read:function(e){var r=t.substr(n,e);return n+=e,r},readInt32:function(){var e=(t.charCodeAt(n)<<24)+(t.charCodeAt(n+1)<<16)+(t.charCodeAt(n+2)<<8)+t.charCodeAt(n+3);return n+=4,e},readInt16:function(){var e=(t.charCodeAt(n)<<8)+t.charCodeAt(n+1);return n+=2,e},readInt8:e,readVarInt:function(){for(var t=0;;){var n=e();if(!(128&n))return t+n;t+=127&n,t<<=7}}}}t.exports=function(t){return function(t){function e(t){var e=t.read(4),n=t.readInt32();return{id:e,length:n,data:t.read(n)}}function r(t){var e,n={deltaTime:t.readVarInt()},r=t.readInt8();if(240==(240&r)){if(255==r){n.type="meta";var o=t.readInt8(),a=t.readVarInt();switch(o){case 0:if(n.subtype="sequenceNumber",2!=a)throw"Expected length for sequenceNumber event is 2, got "+a;return n.number=t.readInt16(),n;case 1:return n.subtype="text",n.text=t.read(a),n;case 2:return n.subtype="copyrightNotice",n.text=t.read(a),n;case 3:return n.subtype="trackName",n.text=t.read(a),n;case 4:return n.subtype="instrumentName",n.text=t.read(a),n;case 5:return n.subtype="lyrics",n.text=t.read(a),n;case 6:return n.subtype="marker",n.text=t.read(a),n;case 7:return n.subtype="cuePoint",n.text=t.read(a),n;case 32:if(n.subtype="midiChannelPrefix",1!=a)throw"Expected length for midiChannelPrefix event is 1, got "+a;return n.channel=t.readInt8(),n;case 47:if(n.subtype="endOfTrack",0!=a)throw"Expected length for endOfTrack event is 0, got "+a;return n;case 81:if(n.subtype="setTempo",3!=a)throw"Expected length for setTempo event is 3, got "+a;return n.microsecondsPerBeat=(t.readInt8()<<16)+(t.readInt8()<<8)+t.readInt8(),n;case 84:if(n.subtype="smpteOffset",5!=a)throw"Expected length for smpteOffset event is 5, got "+a;var s=t.readInt8();return n.frameRate={0:24,32:25,64:29,96:30}[96&s],n.hour=31&s,n.min=t.readInt8(),n.sec=t.readInt8(),n.frame=t.readInt8(),n.subframe=t.readInt8(),n;case 88:if(n.subtype="timeSignature",4!=a)throw"Expected length for timeSignature event is 4, got "+a;return n.numerator=t.readInt8(),n.denominator=Math.pow(2,t.readInt8()),n.metronome=t.readInt8(),n.thirtyseconds=t.readInt8(),n;case 89:if(n.subtype="keySignature",2!=a)throw"Expected length for keySignature event is 2, got "+a;return n.key=t.readInt8(!0),n.scale=t.readInt8(),n;case 127:return n.subtype="sequencerSpecific",n.data=t.read(a),n;default:return n.subtype="unknown",n.data=t.read(a),n}return n.data=t.read(a),n}if(240==r){n.type="sysEx";var a=t.readVarInt();return n.data=t.read(a),n}if(247==r){n.type="dividedSysEx";var a=t.readVarInt();return n.data=t.read(a),n}throw"Unrecognised MIDI event type byte: "+r}0==(128&r)?(e=r,r=i):(e=t.readInt8(),i=r);var u=r>>4;switch(n.channel=15&r,n.type="channel",u){case 8:return n.subtype="noteOff",n.noteNumber=e,n.velocity=t.readInt8(),n;case 9:return n.noteNumber=e,n.velocity=t.readInt8(),n.subtype=0==n.velocity?"noteOff":"noteOn",n;case 10:return n.subtype="noteAftertouch",n.noteNumber=e,n.amount=t.readInt8(),n;case 11:return n.subtype="controller",n.controllerType=e,n.value=t.readInt8(),n;case 12:return n.subtype="programChange",n.programNumber=e,n;case 13:return n.subtype="channelAftertouch",n.amount=e,n;case 14:return n.subtype="pitchBend",n.value=e+(t.readInt8()<<7),n;default:throw"Unrecognised MIDI event type: "+u}}var i;stream=n(t);var o=e(stream);if("MThd"!=o.id||6!=o.length)throw"Bad .mid file - header not found";var a=n(o.data),s=a.readInt16(),u=a.readInt16(),c=a.readInt16();if(32768&c)throw"Expressing time division in SMTPE frames is not supported yet";ticksPerBeat=c;for(var l={formatType:s,trackCount:u,ticksPerBeat:ticksPerBeat},p=[],h=0;h<l.trackCount;h++){p[h]=[];var f=e(stream);if("MTrk"!=f.id)throw"Unexpected chunk - expected MTrk, got "+f.id;for(var d=n(f.data);!d.eof();){var m=r(d);p[h].push(m)}}return{header:l,tracks:p}}(t)}}}]);
//# sourceMappingURL=/static/public/build/musescore/../../sourcemap/musescore/20_18_44_201812/95.3afeb711ff6008799be6a414f312e78753816.js.map